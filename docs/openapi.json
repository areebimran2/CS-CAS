{"openapi": "3.1.0", "info": {"title": "NinjaAPI", "version": "1.0.0", "description": ""}, "paths": {"/api/auth/login": {"post": {"operationId": "myauth_api_auth_base_login", "summary": "Login", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/LoginOut"}}}}}, "description": "Check if the given user credentials are valid, then establish a login verification context. The context ID along\nwith the user's default 2FA method/device (if any) are returned.\n\nIf the user has not yet setup 2FA, then they must do so after this step by calling the appropriate 2FA setup\nendpoint (SMS default). Otherwise, they can proceed to verify 2FA using the returned method/device.\n\nSMS: OTP is sent through `/api/auth/2fa/sms/send` endpoint.\nTOTP: OTP is generated through authenticator apps (e.g Google Authenticator).\n\n**Note**: This endpoint does NOT establish a login session. The session is only created after successful\n2FA verification.", "tags": ["A1. Login / 2FA / Forgotten Password"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/LoginIn"}}}, "required": true}}}, "/api/auth/logout": {"post": {"operationId": "myauth_api_auth_base_logout", "summary": "Logout", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/MessageOut"}}}}}, "description": "Logout the user by deleting their session and refresh token cookie.", "tags": ["A1. Login / 2FA / Forgotten Password"]}}, "/api/auth/refresh": {"post": {"operationId": "myauth_api_auth_base_refresh", "summary": "Refresh", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TokenOut"}}}}}, "description": "Refresh the access token using a valid refresh token from cookies.", "tags": ["A1. Login / 2FA / Forgotten Password"]}}, "/api/auth/password/forgot": {"post": {"operationId": "myauth_api_auth_base_forgot_password", "summary": "Forgot Password", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/MessageOut"}}}}}, "description": "Initiate the password reset process by sending a reset link to the user's email.", "tags": ["A1. Login / 2FA / Forgotten Password"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ForgotPasswordIn"}}}, "required": true}}}, "/api/auth/password/reset": {"post": {"operationId": "myauth_api_auth_base_reset_password", "summary": "Reset Password", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/MessageOut"}}}}}, "description": "Complete the password reset process by verifying the token and setting a new password.", "tags": ["A1. Login / 2FA / Forgotten Password"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ResetPasswordIn"}}}, "required": true}}}, "/api/auth/2fa/totp/setup": {"post": {"operationId": "myauth_api_auth_tfa_setup_tfa_totp", "summary": "Setup Tfa Totp", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TFASetupTOTPOut"}}}}}, "description": "Initiate TOTP 2FA setup for the user by generating a TOTP secret and OTP URI.\n\nThe OTP URI should be used to generate a QR code for the user to scan with their authenticator app.", "tags": ["A1. Login / 2FA / Forgotten Password"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/TFASetupTOTPIn"}}}, "required": true}}}, "/api/auth/2fa/totp/confirm": {"post": {"operationId": "myauth_api_auth_tfa_confirm_tfa_totp", "summary": "Confirm Tfa Totp", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TFAConfirmOut"}}}}}, "description": "Confirm TOTP 2FA setup by verifying the provided passcode against the TOTP secret.", "tags": ["A1. Login / 2FA / Forgotten Password"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/TFAConfirmTOTPIn"}}}, "required": true}}}, "/api/auth/2fa/sms/send": {"post": {"operationId": "myauth_api_auth_tfa_send_2fa_sms", "summary": "Send 2Fa Sms", "parameters": [{"in": "query", "name": "purpose", "schema": {"allOf": [{"enum": ["login"], "title": "UnAuthPurpose", "type": "string"}], "default": "login"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TFAConfirmOut"}}}}}, "description": "Send an OTP SMS to the user's registered phone number for SMS 2FA verification.", "tags": ["A1. Login / 2FA / Forgotten Password"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/TFASetupSMSIn"}}}, "required": true}}}, "/api/auth/2fa/verify": {"post": {"operationId": "myauth_api_auth_tfa_verify_2fa", "summary": "Verify 2Fa", "parameters": [{"in": "query", "name": "purpose", "schema": {"allOf": [{"enum": ["login"], "title": "UnAuthPurpose", "type": "string"}], "default": "login"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TokenOut"}}}}}, "description": "Verify the provided 2FA passcode and establish a user session upon successful verification.", "tags": ["A1. Login / 2FA / Forgotten Password"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/TFAVerifyIn"}}}, "required": true}}}, "/api/me/": {"get": {"operationId": "myauth_api_me_base_profile", "summary": "Profile", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserProfileSchema"}}}}}, "description": "Retrieve the authenticated user's profile information, including preferences.", "tags": ["A2. My Profile"], "security": [{"JWTAuth": []}]}, "put": {"operationId": "myauth_api_me_base_update_profile", "summary": "Update Profile", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserProfileSchema"}}}}}, "description": "Update the authenticated user's profile information, including preferences.", "tags": ["A2. My Profile"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserProfileUpdateSchema"}}}, "required": true}, "security": [{"JWTAuth": []}]}}, "/api/me/security/sms/send": {"post": {"operationId": "myauth_api_me_base_secure_action", "summary": "Secure Action", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/MessageOut"}}}}}, "description": "Send an OTP SMS to the user's registered phone number for security-sensitive actions.", "tags": ["A2. My Profile"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/SecuritySetupIn"}}}, "required": true}, "security": [{"JWTAuth": []}]}}, "/api/me/phone/verify-old": {"post": {"operationId": "myauth_api_me_base_verify_old_phone", "summary": "Verify Old Phone", "parameters": [{"in": "query", "name": "purpose", "schema": {"allOf": [{"enum": ["verify-old-phone", "verify-new-phone", "change-email", "change-password", "change-tfa-method"], "title": "AuthPurpose", "type": "string"}], "default": "verify-old-phone"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/MessageOut"}}}}}, "description": "Verify the user's old phone number as stage 1 of the phone number change process.", "tags": ["A2. My Profile"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/VerifySchema"}}}, "required": true}, "security": [{"JWTAuth": []}]}}, "/api/me/phone/change": {"post": {"operationId": "myauth_api_me_base_change_phone", "summary": "Change Phone", "parameters": [{"in": "query", "name": "purpose", "schema": {"allOf": [{"enum": ["verify-old-phone", "verify-new-phone", "change-email", "change-password", "change-tfa-method"], "title": "AuthPurpose", "type": "string"}], "default": "verify-new-phone"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/MessageOut"}}}}}, "description": "Initiate stage 2 of the phone number change process by sending an OTP to the new phone number.", "tags": ["A2. My Profile"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ChangePhoneIn"}}}, "required": true}, "security": [{"JWTAuth": []}]}}, "/api/me/phone/verify-new": {"post": {"operationId": "myauth_api_me_base_verify_new_phone", "summary": "Verify New Phone", "parameters": [{"in": "query", "name": "purpose", "schema": {"allOf": [{"enum": ["verify-old-phone", "verify-new-phone", "change-email", "change-password", "change-tfa-method"], "title": "AuthPurpose", "type": "string"}], "default": "verify-new-phone"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/MessageOut"}}}}}, "description": "Verify the user's new phone number and update it in the system.", "tags": ["A2. My Profile"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/VerifySchema"}}}, "required": true}, "security": [{"JWTAuth": []}]}}, "/api/me/password/change": {"post": {"operationId": "myauth_api_me_base_password_change", "summary": "Password Change", "parameters": [{"in": "query", "name": "purpose", "schema": {"allOf": [{"enum": ["verify-old-phone", "verify-new-phone", "change-email", "change-password", "change-tfa-method"], "title": "AuthPurpose", "type": "string"}], "default": "change-password"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/MessageOut"}}}}}, "description": "Change the authenticated user's password after verifying the current password and OTP.", "tags": ["A2. My Profile"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ChangePasswordIn"}}}, "required": true}, "security": [{"JWTAuth": []}]}}, "/api/me/email/change": {"post": {"operationId": "myauth_api_me_base_email_change", "summary": "Email Change", "parameters": [{"in": "query", "name": "purpose", "schema": {"allOf": [{"enum": ["verify-old-phone", "verify-new-phone", "change-email", "change-password", "change-tfa-method"], "title": "AuthPurpose", "type": "string"}], "default": "change-email"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/MessageOut"}}}}}, "description": "Change the authenticated user's email after verifying the OTP.", "tags": ["A2. My Profile"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ChangeEmailIn"}}}, "required": true}, "security": [{"JWTAuth": []}]}}, "/api/me/tfa-method/change": {"post": {"operationId": "myauth_api_me_base_tfa_method_change", "summary": "Tfa Method Change", "parameters": [{"in": "query", "name": "purpose", "schema": {"allOf": [{"enum": ["verify-old-phone", "verify-new-phone", "change-email", "change-password", "change-tfa-method"], "title": "AuthPurpose", "type": "string"}], "default": "change-tfa-method"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/MessageOut"}}}}}, "description": "Change the authenticated user's two-factor authentication (TFA) method after verifying the OTP.", "tags": ["A2. My Profile"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ChangeTFAMethodIn"}}}, "required": true}, "security": [{"JWTAuth": []}]}}, "/api/admin/users": {"get": {"operationId": "myadmin_api_admin_users_list_users", "summary": "List Users", "parameters": [{"in": "query", "name": "limit", "schema": {"default": 100, "minimum": 1, "title": "Limit", "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"default": 0, "minimum": 0, "title": "Offset", "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NinjaPaginationResponseSchema_UserOut_"}}}}}, "description": "Returns a list users in the system.", "tags": ["B1. Users"]}, "post": {"operationId": "myadmin_api_admin_users_create_user", "summary": "Create User", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserOut"}}}}}, "description": "Create a new user along with their preferences and role association.", "tags": ["B1. Users"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserIn"}}}, "required": true}}}, "/api/admin/users/{user_id}": {"put": {"operationId": "myadmin_api_admin_users_update_user", "summary": "Update User", "parameters": [{"in": "path", "name": "user_id", "schema": {"title": "User Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserOut"}}}}}, "description": "Update an existing user's details, including password and role association.", "tags": ["B1. Users"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserInPatch"}}}, "required": true}}, "get": {"operationId": "myadmin_api_admin_users_get_user", "summary": "Get User", "parameters": [{"in": "path", "name": "user_id", "schema": {"title": "User Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserOut"}}}}}, "description": "Retrieve detailed information about a specific user by their ID.", "tags": ["B1. Users"]}}, "/api/admin/users/{user_id}/suspend": {"post": {"operationId": "myadmin_api_admin_users_suspend_user", "summary": "Suspend User", "parameters": [{"in": "path", "name": "user_id", "schema": {"title": "User Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserOut"}}}}}, "description": "Suspend a user account, disabling their access to the system.", "tags": ["B1. Users"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/MessageIn"}}}, "required": true}}}, "/api/admin/users/{user_id}/unsuspend": {"post": {"operationId": "myadmin_api_admin_users_unsuspend_user", "summary": "Unsuspend User", "parameters": [{"in": "path", "name": "user_id", "schema": {"title": "User Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserOut"}}}}}, "description": "Reactivate a user account, granting their access to the system.", "tags": ["B1. Users"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/MessageIn"}}}, "required": true}}}, "/api/admin/roles": {"get": {"operationId": "myadmin_api_admin_roles_list_roles", "summary": "List Roles", "parameters": [{"in": "query", "name": "limit", "schema": {"default": 100, "minimum": 1, "title": "Limit", "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"default": 0, "minimum": 0, "title": "Offset", "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NinjaPaginationResponseSchema_RoleOut_"}}}}}, "description": "Returns a list of roles, and their assigned permissions.", "tags": ["B2. Roles"]}, "post": {"operationId": "myadmin_api_admin_roles_create_role", "summary": "Create Role", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RoleOut"}}}}}, "description": "Create a new role along with its associated permissions.", "tags": ["B2. Roles"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/RoleIn"}}}, "required": true}}}, "/api/admin/roles/{role_id}": {"put": {"operationId": "myadmin_api_admin_roles_update_role", "summary": "Update Role", "parameters": [{"in": "path", "name": "role_id", "schema": {"title": "Role Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RoleOut"}}}}}, "description": "Update an existing role's details, including its associated permissions.", "tags": ["B2. Roles"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/RoleInPatch"}}}, "required": true}}, "get": {"operationId": "myadmin_api_admin_roles_get_role", "summary": "Get Role", "parameters": [{"in": "path", "name": "role_id", "schema": {"title": "Role Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RoleOut"}}}}}, "description": "Retrieve a specific role by its ID.", "tags": ["B2. Roles"]}}, "/api/admin/permissions": {"get": {"operationId": "myadmin_api_admin_permissions_list_permissions", "summary": "List Permissions", "parameters": [{"in": "query", "name": "limit", "schema": {"default": 100, "minimum": 1, "title": "Limit", "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"default": 0, "minimum": 0, "title": "Offset", "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NinjaPaginationResponseSchema_PermissionOut_"}}}}}, "description": "Returns a list of the permissions catalogs.", "tags": ["B3. Permissions"]}}, "/api/catalog/amenities/": {"get": {"operationId": "catalogs_api_catalog_amenities_list_amenities", "summary": "List Amenities", "parameters": [{"in": "query", "name": "limit", "schema": {"default": 100, "minimum": 1, "title": "Limit", "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"default": 0, "minimum": 0, "title": "Offset", "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NinjaPaginationResponseSchema_AmenityOut_"}}}}}, "description": "Returns a list of available amenities in the system.", "tags": ["C1. Amenities"]}, "post": {"operationId": "catalogs_api_catalog_amenities_create_amenity", "summary": "Create Amenity", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AmenityOut"}}}}}, "description": "Creates a new amenity.", "tags": ["C1. Amenities"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/AmenityIn"}}}, "required": true}}}, "/api/catalog/amenities/{amenity_id}": {"put": {"operationId": "catalogs_api_catalog_amenities_update_amenity", "summary": "Update Amenity", "parameters": [{"in": "path", "name": "amenity_id", "schema": {"title": "Amenity Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AmenityOut"}}}}}, "description": "Update an existing amenity.", "tags": ["C1. Amenities"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/AmenityInPatch"}}}, "required": true}}}, "/api/catalog/cabin-categories/": {"get": {"operationId": "catalogs_api_catalog_cabin_categories_list_cabin_categories", "summary": "List Cabin Categories", "parameters": [{"in": "query", "name": "limit", "schema": {"default": 100, "minimum": 1, "title": "Limit", "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"default": 0, "minimum": 0, "title": "Offset", "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NinjaPaginationResponseSchema_CabinCategoryOut_"}}}}}, "description": "Returns a list of all valid cabin categories.", "tags": ["C2. Cabin Categories"]}, "post": {"operationId": "catalogs_api_catalog_cabin_categories_create_cabin_category", "summary": "Create Cabin Category", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CabinCategoryOut"}}}}}, "description": "Creates a new cabin category.", "tags": ["C2. Cabin Categories"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CabinCategoryIn"}}}, "required": true}}}, "/api/catalog/cabin-categories/{category_id}": {"put": {"operationId": "catalogs_api_catalog_cabin_categories_update_cabin_category", "summary": "Update Cabin Category", "parameters": [{"in": "path", "name": "category_id", "schema": {"title": "Category Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CabinCategoryOut"}}}}}, "description": "Updates an existing cabin category.", "tags": ["C2. Cabin Categories"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CabinCategoryInPatch"}}}, "required": true}}}, "/api/catalog/custom-costs/": {"get": {"operationId": "catalogs_api_catalog_custom_costs_list_custom_costs", "summary": "List Custom Costs", "parameters": [{"in": "query", "name": "limit", "schema": {"default": 100, "minimum": 1, "title": "Limit", "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"default": 0, "minimum": 0, "title": "Offset", "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NinjaPaginationResponseSchema_CustomCostOut_"}}}}}, "description": "Returns a list of all configurable cost types used for pricing.", "tags": ["C3. Custom Costs"]}, "post": {"operationId": "catalogs_api_catalog_custom_costs_create_custom_cost", "summary": "Create Custom Cost", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CustomCostOut"}}}}}, "description": "Create a configurable cost type.", "tags": ["C3. Custom Costs"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CustomCostIn"}}}, "required": true}}}, "/api/catalog/custom-costs/{cost_id}": {"put": {"operationId": "catalogs_api_catalog_custom_costs_update_custom_cost", "summary": "Update Custom Cost", "parameters": [{"in": "path", "name": "cost_id", "schema": {"title": "Cost Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CustomCostOut"}}}}}, "description": "Update an existing cost type.", "tags": ["C3. Custom Costs"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CustomCostInPatch"}}}, "required": true}}}, "/api/fx/manual-rates": {"get": {"operationId": "catalogs_api_fx_base_list_manual_rates", "summary": "List Manual Rates", "parameters": [{"in": "query", "name": "limit", "schema": {"default": 100, "minimum": 1, "title": "Limit", "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"default": 0, "minimum": 0, "title": "Offset", "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NinjaPaginationResponseSchema_ManualFXOut_"}}}}}, "description": "Returns a list of all stored FX pairs and their rates.", "tags": ["C4. FX"]}, "put": {"operationId": "catalogs_api_fx_base_upsert_manual_rates", "summary": "Upsert Manual Rates", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/ManualFXOut"}, "title": "Response", "type": "array"}}}}}, "description": "Upserts (update + insert) a batch of manual rates in one action.", "tags": ["C4. FX"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ManualFXInList"}}}, "required": true}}}, "/api/fx/manual-rates/{base}/{quote}": {"get": {"operationId": "catalogs_api_fx_base_get_manual_rate", "summary": "Get Manual Rate", "parameters": [{"in": "path", "name": "base", "schema": {"title": "Base", "type": "string"}, "required": true}, {"in": "path", "name": "quote", "schema": {"title": "Quote", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ManualFXOut"}}}}}, "description": "Returns a single manual pair.", "tags": ["C4. FX"]}}, "/api/fx/live-rates": {"get": {"operationId": "catalogs_api_fx_base_get_live_rates", "summary": "Get Live Rates", "parameters": [{"in": "query", "name": "base", "schema": {"title": "Base", "type": "string"}, "required": true}, {"in": "query", "name": "quote", "schema": {"title": "Quote", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/LiveFXOut"}, "title": "Response", "type": "array"}}}}}, "description": "Returns a specific cached live rates for a base currency and a set of quote currencies.", "tags": ["C4. FX"]}}, "/api/fx/live-rates/refresh": {"get": {"operationId": "catalogs_api_fx_base_refresh_live_rates", "summary": "Refresh Live Rates", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/LiveFXOut"}, "title": "Response", "type": "array"}}}}}, "description": "Returns force-refreshed live rates.", "tags": ["C4. FX"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/RefreshLiveFXIn"}}}, "required": true}}}, "/api/fx/status": {"get": {"operationId": "catalogs_api_fx_base_get_fx_status", "summary": "Get Fx Status", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CacheStatusOut"}}}}}, "description": "Returns health/staleness info for the FX provider/cache.", "tags": ["C4. FX"]}}, "/api/policies/reserve-settings/": {"get": {"operationId": "catalogs_api_policies_reserve_settings_get_reserve_settings", "summary": "Get Reserve Settings", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReserveSettingsOut"}}}}}, "description": "Returns the active global reservation ruleset configuration.", "tags": ["C5. Reserve Settings"]}, "put": {"operationId": "catalogs_api_policies_reserve_settings_set_reserve_settings", "summary": "Set Reserve Settings", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReserveSettingsOut"}}}}}, "description": "Sets a new active global reservation ruleset configuration.", "tags": ["C5. Reserve Settings"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReserveSettingsIn"}}}, "required": true}}}, "/api/policies/cancellation-policies/": {"get": {"operationId": "catalogs_api_policies_cancellation_policies_list_cancellation_policies", "summary": "List Cancellation Policies", "parameters": [{"in": "query", "name": "limit", "schema": {"default": 100, "minimum": 1, "title": "Limit", "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"default": 0, "minimum": 0, "title": "Offset", "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NinjaPaginationResponseSchema_CancellationPolicyOut_"}}}}}, "description": "Returns a list of valid cabin cancellation policies available for selection.", "tags": ["C6. Cancellation Policies"]}, "post": {"operationId": "catalogs_api_policies_cancellation_policies_create_cancellation_policy", "summary": "Create Cancellation Policy", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CancellationPolicyOut"}}}}}, "description": "Creates a new cabin cancellation policy.", "tags": ["C6. Cancellation Policies"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CancellationPolicyIn"}}}, "required": true}}}, "/api/policies/cancellation-policies/{policy_id}": {"get": {"operationId": "catalogs_api_policies_cancellation_policies_get_cancellation_policy", "summary": "Get Cancellation Policy", "parameters": [{"in": "path", "name": "policy_id", "schema": {"title": "Policy Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CancellationPolicyOut"}}}}}, "description": "Returns a cabin cancellation policy.", "tags": ["C6. Cancellation Policies"]}, "put": {"operationId": "catalogs_api_policies_cancellation_policies_replace_cancellation_policy", "summary": "Replace Cancellation Policy", "parameters": [{"in": "path", "name": "policy_id", "schema": {"title": "Policy Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CancellationPolicyOut"}}}}}, "description": "Replaces a cabin cancellation policy and its tiers.", "tags": ["C6. Cancellation Policies"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CancellationPolicyIn"}}}, "required": true}}}, "/api/policies/cancellation-policies/{policy_id}/quote": {"post": {"operationId": "catalogs_api_policies_cancellation_policies_quote_cancellation_charge", "summary": "Quote Cancellation Charge", "parameters": [{"in": "path", "name": "policy_id", "schema": {"title": "Policy Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/QuoteCancellationChargeOut"}}}}}, "description": "Runs the cancellation tier engine using some cancellation policy to return an estimated charge and the tier that\nwould apply (pre-booking).", "tags": ["C6. Cancellation Policies"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/QuoteCancellationChargeIn"}}}, "required": true}}}, "/api/ships/": {"get": {"operationId": "ships_cabins_api_ships_base_list_ships", "summary": "List Ships", "parameters": [{"in": "query", "name": "limit", "schema": {"default": 100, "minimum": 1, "title": "Limit", "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"default": 0, "minimum": 0, "title": "Offset", "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NinjaPaginationResponseSchema_ShipOut_"}}}}}, "description": "Returns a list of active ships.", "tags": ["D1. Ships"]}, "post": {"operationId": "ships_cabins_api_ships_base_create_ship", "summary": "Create Ship", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ShipOut"}}}}}, "description": "Creates a new ship.", "tags": ["D1. Ships"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ShipIn"}}}, "required": true}}}, "/api/ships/{ship_id}": {"get": {"operationId": "ships_cabins_api_ships_base_get_ship", "summary": "Get Ship", "parameters": [{"in": "path", "name": "ship_id", "schema": {"title": "Ship Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ShipOut"}}}}}, "description": "Returns a ship by ID.", "tags": ["D1. Ships"]}, "put": {"operationId": "ships_cabins_api_ships_base_update_ship", "summary": "Update Ship", "parameters": [{"in": "path", "name": "ship_id", "schema": {"title": "Ship Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ShipOut"}}}}}, "description": "Update a ships name, operator, contact person or address.", "tags": ["D1. Ships"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ShipUpdateIn"}}}, "required": true}}}, "/api/ships/{ship_id}/currencies": {"put": {"operationId": "ships_cabins_api_ships_base_set_ship_currencies", "summary": "Set Ship Currencies", "parameters": [{"in": "path", "name": "ship_id", "schema": {"title": "Ship Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ShipOut"}}}}}, "description": "Replace a ships currencies list.", "tags": ["D1. Ships"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ShipCurrenciesIn"}}}, "required": true}}}, "/api/ships/{ship_id}/amenities": {"put": {"operationId": "ships_cabins_api_ships_base_set_ship_amenities", "summary": "Set Ship Amenities", "parameters": [{"in": "path", "name": "ship_id", "schema": {"title": "Ship Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ShipOut"}}}}}, "description": "Replace a ships amenities list.", "tags": ["D1. Ships"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ShipAmenitiesIn"}}}, "required": true}}}, "/api/ships/{ship_id}/photos": {"put": {"operationId": "ships_cabins_api_ships_base_add_ship_photo", "summary": "Add Ship Photo", "parameters": [{"in": "path", "name": "ship_id", "schema": {"title": "Ship Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ShipOut"}}}}}, "description": "Add a photo to the ship gallery.", "tags": ["D1. Ships"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ShipPhotoIn"}}}, "required": true}}}, "/api/ships/{ship_id}/cabin-maps/": {"get": {"operationId": "ships_cabins_api_ships_cabin_maps_list_cabin_maps", "summary": "List Cabin Maps", "parameters": [{"in": "path", "name": "ship_id", "schema": {"title": "Ship Id", "type": "string"}, "required": true}, {"in": "query", "name": "limit", "schema": {"default": 100, "minimum": 1, "title": "Limit", "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"default": 0, "minimum": 0, "title": "Offset", "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NinjaPaginationResponseSchema_CabinMapOut_"}}}}}, "description": "Returns a list of the map versions that belong to the specified ship.", "tags": ["D2. Cabin Maps"]}, "post": {"operationId": "ships_cabins_api_ships_cabin_maps_create_cabin_map", "summary": "Create Cabin Map", "parameters": [{"in": "path", "name": "ship_id", "schema": {"title": "Ship Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CabinMapOut"}}}}}, "description": "Creates a draft for a new map version.\n\nNote: version is determined automatically.", "tags": ["D2. Cabin Maps"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CabinMapIn"}}}, "required": true}}}, "/api/ships/{ship_id}/cabin-maps/{map_id}/zones": {"get": {"operationId": "ships_cabins_api_ships_cabin_maps_list_cabin_zone", "summary": "List Cabin Zone", "parameters": [{"in": "path", "name": "map_id", "schema": {"title": "Map Id", "type": "string"}, "required": true}, {"in": "path", "name": "ship_id", "schema": {"title": "Ship Id", "type": "string"}, "required": true}, {"in": "query", "name": "limit", "schema": {"default": 100, "minimum": 1, "title": "Limit", "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"default": 0, "minimum": 0, "title": "Offset", "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NinjaPaginationResponseSchema_CabinZoneOut_"}}}}}, "description": "Returns a list of cabin zones belonging to the specified cabin map.", "tags": ["D2. Cabin Maps"]}, "put": {"operationId": "ships_cabins_api_ships_cabin_maps_replace_cabin_zones", "summary": "Replace Cabin Zones", "parameters": [{"in": "path", "name": "map_id", "schema": {"title": "Map Id", "type": "string"}, "required": true}, {"in": "path", "name": "ship_id", "schema": {"title": "Ship Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CabinZoneReplaceOut"}}}}}, "description": "Saves the map zone geometry -> cabin mapping for the map.\n\nNote:\n- A \"zone\" is the selectable region on the map that corresponds to a specific cabin.\n- This is a bulk replace endpoint so it replaces all existing zones for the specified map.", "tags": ["D2. Cabin Maps"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CabinZoneReplaceIn"}}}, "required": true}}}, "/api/ships/{ship_id}/cabin-maps/{map_id}": {"get": {"operationId": "ships_cabins_api_ships_cabin_maps_get_cabin_map", "summary": "Get Cabin Map", "parameters": [{"in": "path", "name": "map_id", "schema": {"title": "Map Id", "type": "string"}, "required": true}, {"in": "path", "name": "ship_id", "schema": {"title": "Ship Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CabinMapOut"}}}}}, "description": "Returns a cabin map.", "tags": ["D2. Cabin Maps"]}, "put": {"operationId": "ships_cabins_api_ships_cabin_maps_update_cabin_map", "summary": "Update Cabin Map", "parameters": [{"in": "path", "name": "map_id", "schema": {"title": "Map Id", "type": "string"}, "required": true}, {"in": "path", "name": "ship_id", "schema": {"title": "Ship Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CabinMapOut"}}}}}, "description": "Update cabin map metadata and/or attach the uploaded asset (returned from the upload URL endpoint) to the map.", "tags": ["D2. Cabin Maps"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CabinMapUpdateIn"}}}, "required": true}}}, "/api/ships/{ship_id}/cabin-maps/{map_id}/upload-url": {"post": {"operationId": "ships_cabins_api_ships_cabin_maps_cabin_map_upload_url", "summary": "Cabin Map Upload Url", "parameters": [{"in": "path", "name": "map_id", "schema": {"title": "Map Id", "type": "string"}, "required": true}, {"in": "path", "name": "ship_id", "schema": {"title": "Ship Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UploadUrlOut"}}}}}, "description": "Returns a presigned upload URL to upload a map asset directly to storage.", "tags": ["D2. Cabin Maps"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/UploadUrlIn"}}}, "required": true}}}, "/api/ships/{ship_id}/cabin-maps/{map_id}/zones/{zone_id}": {"put": {"operationId": "ships_cabins_api_ships_cabin_maps_update_cabin_zone", "summary": "Update Cabin Zone", "parameters": [{"in": "path", "name": "map_id", "schema": {"title": "Map Id", "type": "string"}, "required": true}, {"in": "path", "name": "zone_id", "schema": {"title": "Zone Id", "type": "string"}, "required": true}, {"in": "path", "name": "ship_id", "schema": {"title": "Ship Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CabinZoneOut"}}}}}, "description": "Updates one zone from the specified map.", "tags": ["D2. Cabin Maps"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CabinZoneUpdateIn"}}}, "required": true}}}, "/api/ships/{ship_id}/cabin-maps/{map_id}/activate": {"post": {"operationId": "ships_cabins_api_ships_cabin_maps_activate_cabin_map", "summary": "Activate Cabin Map", "parameters": [{"in": "path", "name": "map_id", "schema": {"title": "Map Id", "type": "string"}, "required": true}, {"in": "path", "name": "ship_id", "schema": {"title": "Ship Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CabinMapActivateOut"}}}}}, "description": "Sets the specified map as the active map version. Demotes previous active to archive.", "tags": ["D2. Cabin Maps"]}}, "/api/ships/{ship_id}/cabins/": {"get": {"operationId": "ships_cabins_api_ships_cabins_list_cabins", "summary": "List Cabins", "parameters": [{"in": "path", "name": "ship_id", "schema": {"title": "Ship Id", "type": "string"}, "required": true}, {"in": "query", "name": "limit", "schema": {"default": 100, "minimum": 1, "title": "Limit", "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"default": 0, "minimum": 0, "title": "Offset", "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NinjaPaginationResponseSchema_CabinOut_"}}}}}, "description": "Returns a list of cabins that belong to the specified ship.", "tags": ["D3. Cabins"]}, "post": {"operationId": "ships_cabins_api_ships_cabins_create_cabin", "summary": "Create Cabin", "parameters": [{"in": "path", "name": "ship_id", "schema": {"title": "Ship Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CabinOut"}}}}}, "description": "Creates a new cabin.", "tags": ["D3. Cabins"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CabinIn"}}}, "required": true}}}, "/api/ships/{ship_id}/cabins/{cabin_id}": {"get": {"operationId": "ships_cabins_api_ships_cabins_get_cabin", "summary": "Get Cabin", "parameters": [{"in": "path", "name": "cabin_id", "schema": {"title": "Cabin Id", "type": "string"}, "required": true}, {"in": "path", "name": "ship_id", "schema": {"title": "Ship Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CabinOut"}}}}}, "description": "Returns a cabin by id.", "tags": ["D3. Cabins"]}, "put": {"operationId": "ships_cabins_api_ships_cabins_update_cabin", "summary": "Update Cabin", "parameters": [{"in": "path", "name": "cabin_id", "schema": {"title": "Cabin Id", "type": "string"}, "required": true}, {"in": "path", "name": "ship_id", "schema": {"title": "Ship Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CabinOut"}}}}}, "description": "Updates a cabin.", "tags": ["D3. Cabins"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CabinInPatch"}}}, "required": true}}}, "/api/routes/": {"get": {"operationId": "routes_api_routes_base_list_routes", "summary": "List Routes", "parameters": [{"in": "query", "name": "limit", "schema": {"default": 100, "minimum": 1, "title": "Limit", "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"default": 0, "minimum": 0, "title": "Offset", "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NinjaPaginationResponseSchema_RouteOut_"}}}}}, "description": "Returns a list of routes that define \"the ports a ship visits in order\".", "tags": ["E1. Routes + Legs"]}, "post": {"operationId": "routes_api_routes_base_create_route", "summary": "Create Route", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RouteOut"}}}}}, "description": "Creates a new route.", "tags": ["E1. Routes + Legs"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/RouteIn"}}}, "required": true}}}, "/api/routes/{route_id}": {"get": {"operationId": "routes_api_routes_base_get_route", "summary": "Get Route", "parameters": [{"in": "path", "name": "route_id", "schema": {"title": "Route Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RouteOut"}}}}}, "description": "Returns a route by ID.", "tags": ["E1. Routes + Legs"]}, "put": {"operationId": "routes_api_routes_base_update_route", "summary": "Update Route", "parameters": [{"in": "path", "name": "route_id", "schema": {"title": "Route Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RouteOut"}}}}}, "description": "Updates a routes base fields.", "tags": ["E1. Routes + Legs"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/RouteIn"}}}, "required": true}}}, "/api/routes/{route_id}/legs/": {"get": {"operationId": "routes_api_routes_legs_list_route_legs", "summary": "List Route Legs", "parameters": [{"in": "path", "name": "route_id", "schema": {"title": "Route Id", "type": "string"}, "required": true}, {"in": "query", "name": "limit", "schema": {"default": 100, "minimum": 1, "title": "Limit", "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"default": 0, "minimum": 0, "title": "Offset", "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NinjaPaginationResponseSchema_RouteLegOut_"}}}}}, "description": "Returns the ordered list of route legs (actual ports/stops) for the specified route.", "tags": ["E1. Routes + Legs"]}, "post": {"operationId": "routes_api_routes_legs_create_route_leg", "summary": "Create Route Leg", "parameters": [{"in": "path", "name": "route_id", "schema": {"title": "Route Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RouteLegOut"}}}}}, "description": "Adds a new leg to the specified route.\n\nNote: omitting `seq` will append the leg to the end of the sequence.", "tags": ["E1. Routes + Legs"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/RouteLegIn"}}}, "required": true}}}, "/api/routes/{route_id}/legs/{leg_id}": {"put": {"operationId": "routes_api_routes_legs_update_route_leg", "summary": "Update Route Leg", "parameters": [{"in": "path", "name": "leg_id", "schema": {"title": "Leg Id", "type": "string"}, "required": true}, {"in": "path", "name": "route_id", "schema": {"title": "Route Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RouteLegOut"}}}}}, "description": "Update the port (place fields) of a single leg of the specified route.\n\nNote: sequence changes are to be done through `/reorder`", "tags": ["E1. Routes + Legs"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/RouteLegUpdateIn"}}}, "required": true}}}, "/api/routes/{route_id}/legs/reorder": {"post": {"operationId": "routes_api_routes_legs_reorder_route_legs", "summary": "Reorder Route Legs", "parameters": [{"in": "path", "name": "route_id", "schema": {"title": "Route Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/RouteLegOut"}, "title": "Response", "type": "array"}}}}}, "description": "Reorders the legs for the specified route in bulk.\n\nNote: The full set of route legs for the specified route is required to guarantee correct ordering.", "tags": ["E1. Routes + Legs"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/RouteLegReorderIn"}}}, "required": true}}}, "/api/places/autocomplete": {"get": {"operationId": "routes_api_places_base_get_places_autocomplete", "summary": "Get Places Autocomplete", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PlaceOut"}}}}}, "description": "Returns a \"Port (Place Search)\" or suggestion list by using a proxy to Google Places autocomplete.", "tags": ["E2. Places"]}}, "/api/places/details": {"get": {"operationId": "routes_api_places_base_get_places_details", "summary": "Get Places Details", "parameters": [{"in": "query", "name": "place_id", "schema": {"title": "Place Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PlaceDetailsOut"}}}}}, "description": "Given a place id from the autocomplete suggestion, returns minimal details required for\nroute leg (place_id, lat, lng, etc.).", "tags": ["E2. Places"]}}, "/api/seasons/": {"get": {"operationId": "seasons_sailings_api_seasons_base_list_seasons", "summary": "List Seasons", "parameters": [{"in": "query", "name": "limit", "schema": {"default": 100, "minimum": 1, "title": "Limit", "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"default": 0, "minimum": 0, "title": "Offset", "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NinjaPaginationResponseSchema_SeasonOut_"}}}}}, "description": "Returns a list of seasons.", "tags": ["F1. Season"]}, "post": {"operationId": "seasons_sailings_api_seasons_base_create_season", "summary": "Create Season", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SeasonOut"}}}}}, "description": "Creates a new season.\n\nNote: ships are assigned using a dedicated endpoint", "tags": ["F1. Season"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/SeasonIn"}}}, "required": true}}}, "/api/seasons/{season_id}": {"get": {"operationId": "seasons_sailings_api_seasons_base_get_season", "summary": "Get Season", "parameters": [{"in": "path", "name": "season_id", "schema": {"title": "Season Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SeasonOut"}}}}}, "description": "Returns a season by ID.", "tags": ["F1. Season"]}, "put": {"operationId": "seasons_sailings_api_seasons_base_update_season", "summary": "Update Season", "parameters": [{"in": "path", "name": "season_id", "schema": {"title": "Season Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SeasonOut"}}}}}, "description": "Updates a seasons fields.", "tags": ["F1. Season"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/SeasonIn"}}}, "required": true}}}, "/api/seasons/{season_id}/ships": {"put": {"operationId": "seasons_sailings_api_seasons_base_assign_ships", "summary": "Assign Ships", "parameters": [{"in": "path", "name": "season_id", "schema": {"title": "Season Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SeasonOut"}}}}}, "description": "Replaces the season <-> ship assignments.", "tags": ["F1. Season"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/AssignShips"}}}, "required": true}}}, "/api/seasons/validate-overlap": {"post": {"operationId": "seasons_sailings_api_seasons_base_validate_overlap", "summary": "Validate Overlap", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ValidateOverlapSeasonsOut"}}}}}, "description": "A preliminary overlap check used by the UI before saving changes. It checks whether the proposed date range overlaps\nwith an existing season.", "tags": ["F1. Season"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ValidateOverlapSeasonsIn"}}}, "required": true}}}, "/api/sailings/": {"get": {"operationId": "seasons_sailings_api_sailings_base_list_sailings", "summary": "List Sailings", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NinjaPaginationResponseSchema_SailingOut_"}}}}}, "description": "Returns a list of sailings.", "tags": ["F2. Sailing"]}, "post": {"operationId": "seasons_sailings_api_sailings_base_create_sailing", "summary": "Create Sailing", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SailingOut"}}}}}, "description": "Creates a sailing for a ship in a season.", "tags": ["F2. Sailing"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/SailingIn"}}}, "required": true}}}, "/api/sailings/{sailing_id}": {"get": {"operationId": "seasons_sailings_api_sailings_base_get_sailing", "summary": "Get Sailing", "parameters": [{"in": "path", "name": "sailing_id", "schema": {"title": "Sailing Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SailingOut"}}}}}, "description": "Returns a sailing by ID.", "tags": ["F2. Sailing"]}, "put": {"operationId": "seasons_sailings_api_sailings_base_update_sailing", "summary": "Update Sailing", "parameters": [{"in": "path", "name": "sailing_id", "schema": {"title": "Sailing Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SailingOut"}}}}}, "description": "Updates a sailings fields.", "tags": ["F2. Sailing"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/SailingIn"}}}, "required": true}}}, "/api/sailings/validate-overlap": {"post": {"operationId": "seasons_sailings_api_sailings_base_validate_overlap", "summary": "Validate Overlap", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ValidateOverlapSailingsOut"}}}}}, "description": "A preliminary overlap check used by the UI before saving changes. It checks the per-ship no-overlap rule for a\nproposed sailing window.\n\nNote: an optional `season` can be provided to check for the \"end after season end\" warning.", "tags": ["F2. Sailing"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ValidateOverlapSailingsIn"}}}, "required": true}}}, "/api/sailings/{sailing_id}/summary": {"get": {"operationId": "seasons_sailings_api_sailings_base_get_summary_sailing", "summary": "Get Summary Sailing", "parameters": [{"in": "path", "name": "sailing_id", "schema": {"title": "Sailing Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SummaryOut"}}}}}, "description": "Returns a compact \"header\" summary of the sailing potentially used by selling/pricing list screens.", "tags": ["F2. Sailing"]}}, "/api/sailings/{sailing_id}/cabins": {"get": {"operationId": "seasons_sailings_api_sailings_base_get_sailing_cabins", "summary": "Get Sailing Cabins", "parameters": [{"in": "path", "name": "sailing_id", "schema": {"title": "Sailing Id", "type": "string"}, "required": true}, {"in": "query", "name": "limit", "schema": {"default": 100, "minimum": 1, "title": "Limit", "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"default": 0, "minimum": 0, "title": "Offset", "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NinjaPaginationResponseSchema_CabinOut_"}}}}}, "description": "Returns a list of cabins relevant to the sailing.", "tags": ["F2. Sailing"]}}, "/api/sailings/{sailing_id}/availability": {"get": {"operationId": "seasons_sailings_api_sailings_base_get_sailing_availability", "summary": "Get Sailing Availability", "parameters": [{"in": "path", "name": "sailing_id", "schema": {"title": "Sailing Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NinjaPaginationResponseSchema_CabinAvailabilityOut_"}}}}}, "description": "Returns the per-cabin availability status for the sailing.", "tags": ["F2. Sailing"]}}, "/api/pricing/graph": {"get": {"operationId": "pricing_api_pricing_base_get_pricing_graph", "summary": "Get Pricing Graph", "parameters": [{"in": "query", "name": "season_id", "schema": {"title": "Season Id", "type": "string"}, "required": true}, {"in": "query", "name": "ship_id", "schema": {"title": "Ship Id", "type": "string"}, "required": true}, {"in": "query", "name": "sailing_ids", "schema": {"title": "Sailing Ids", "type": "string"}, "required": true}, {"in": "query", "name": "fx_mode", "schema": {"title": "Fx Mode", "type": "string"}, "required": true}, {"in": "query", "name": "occupancy", "schema": {"title": "Occupancy", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PricingGraphOut"}}}}}, "description": "Pricing Interactive Graph view for a selected scope.\n\nThis returns a grid/coverage-oriented pricing breakdown.", "tags": ["G1. Scope, View, Bulk, Margins & FX"]}}, "/api/pricing/lines": {"get": {"operationId": "pricing_api_pricing_base_get_pricing_list", "summary": "Get Pricing List", "parameters": [{"in": "query", "name": "season_id", "schema": {"title": "Season Id", "type": "string"}, "required": true}, {"in": "query", "name": "ship_id", "schema": {"title": "Ship Id", "type": "string"}, "required": true}, {"in": "query", "name": "sailing_ids", "schema": {"title": "Sailing Ids", "type": "string"}, "required": true}, {"in": "query", "name": "fx_mode", "schema": {"title": "Fx Mode", "type": "string"}, "required": true}, {"in": "query", "name": "occupancy", "schema": {"title": "Occupancy", "type": "string"}, "required": true}, {"in": "query", "name": "limit", "schema": {"default": 100, "minimum": 1, "title": "Limit", "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"default": 0, "minimum": 0, "title": "Offset", "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PricingListOut"}}}}}, "description": "Pricing List view for a selected scope.\n\nThis returns paginated cabin line items.", "tags": ["G1. Scope, View, Bulk, Margins & FX"]}}, "/api/pricing/bulk": {"post": {"operationId": "pricing_api_pricing_base_pricing_bulk", "summary": "Pricing Bulk", "parameters": [], "responses": {"200": {"description": "OK"}}, "description": "Bulk set pricing inputs (base/currency/single multiplier/custom costs) for a target set: Category / Deck /\nselected Cabins, and apply across the selected Sailing", "tags": ["G1. Scope, View, Bulk, Margins & FX"]}}, "/api/pricing/{sailing_id}/cabins/{cabin_id}": {"put": {"operationId": "pricing_api_pricing_cabins_cabin_override", "summary": "Cabin Override", "parameters": [{"in": "query", "name": "sailing_id", "schema": {"title": "Sailing Id", "type": "string"}, "required": true}, {"in": "path", "name": "cabin_id", "schema": {"title": "Cabin Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK"}}, "description": "Per-cabin override (and optionally its custom costs) for a selected cabin in a specific sailing.", "tags": ["G2. Sailing-scoped Cabin Pricing"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CabinOverrideIn"}}}, "required": true}}}, "/api/zoho/fetch-by-uc-ref": {"post": {"operationId": "selling_api_zoho_base_zoho_fetch", "summary": "Zoho Fetch", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ZohoDetailsOut"}}}}}, "description": "Return zoho deal details given a UC Ref.", "tags": ["I1. UC Ref Lookup"]}}, "/api/holds/": {"get": {"operationId": "selling_api_holds_base_list_holds", "summary": "List Holds", "parameters": [{"in": "query", "name": "limit", "schema": {"default": 100, "minimum": 1, "title": "Limit", "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"default": 0, "minimum": 0, "title": "Offset", "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NinjaPaginationResponseSchema_HoldOut_"}}}}}, "description": "Returns a list of holds.", "tags": ["I2. Reserve"]}, "post": {"operationId": "selling_api_holds_base_create_hold", "summary": "Create Hold", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HoldOut"}}}}}, "description": "Creates a new hold (reserve a cabin) with an expiry computed from the reserve policy (reserve_settings).", "tags": ["I2. Reserve"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/HoldIn"}}}, "required": true}}}, "/api/holds/{hold_id}": {"get": {"operationId": "selling_api_holds_base_get_hold", "summary": "Get Hold", "parameters": [{"in": "path", "name": "hold_id", "schema": {"title": "Hold Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HoldOut"}}}}}, "description": "Returns a single holds details.", "tags": ["I2. Reserve"]}}, "/api/holds/{hold_id}/extend": {"post": {"operationId": "selling_api_holds_base_extend_hold", "summary": "Extend Hold", "parameters": [{"in": "path", "name": "hold_id", "schema": {"title": "Hold Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HoldExtensionOut"}}}}}, "description": "Extends a cabin hold expiry if the global reserve policy (reserve_settings) permits extensions.\n\nReturns the updated cabin hold.", "tags": ["I2. Reserve"]}}, "/api/holds/{hold_id}/release": {"post": {"operationId": "selling_api_holds_base_release_hold", "summary": "Release Hold", "parameters": [{"in": "path", "name": "hold_id", "schema": {"title": "Hold Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HoldReleaseOut"}}}}}, "description": "Releases a cabin hold early (freeing the cabin).\n\nNote: supports \"owner releases\" and admin releases", "tags": ["I2. Reserve"]}}, "/api/holds/{hold_id}/release=request": {"post": {"operationId": "selling_api_holds_base_release_request_hold", "summary": "Release Request Hold", "parameters": [{"in": "path", "name": "hold_id", "schema": {"title": "Hold Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReleaseRequestOut"}}}}}, "description": "Creates a release request when a cabin is held by another user. In other words, allows other users to request\nrelease from the holder.", "tags": ["I2. Reserve"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReasonIn"}}}, "required": true}}}, "/api/bookings/": {"post": {"operationId": "selling_api_bookings_base_create_booking", "summary": "Create Booking", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BookingOut"}}}}}, "description": "Creates a booking either by converting a hold into a booking or directly. Stores a pricing snapshot.", "tags": ["I3 + I4. Booking"], "requestBody": {"content": {"application/json": {"schema": {"anyOf": [{"$ref": "#/components/schemas/BookingInFromHold"}, {"$ref": "#/components/schemas/BookingInDirect"}], "title": "Payload"}}}, "required": true}}}, "/api/bookings/bookings": {"get": {"operationId": "selling_api_bookings_base_list_bookings", "summary": "List Bookings", "parameters": [{"in": "query", "name": "limit", "schema": {"default": 100, "minimum": 1, "title": "Limit", "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"default": 0, "minimum": 0, "title": "Offset", "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NinjaPaginationResponseSchema_BookingOut_"}}}}}, "description": "Returns a list of bookings.", "tags": ["I3 + I4. Booking"]}}, "/api/bookings/{booking_id}": {"get": {"operationId": "selling_api_bookings_base_get_booking", "summary": "Get Booking", "parameters": [{"in": "path", "name": "booking_id", "schema": {"title": "Booking Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BookingOut"}}}}}, "description": "Returns the specified bookings details.", "tags": ["I3 + I4. Booking"]}}, "/api/bookings/{booking_id}/cancellation/quote": {"post": {"operationId": "selling_api_bookings_base_cancellation_quote_booking", "summary": "Cancellation Quote Booking", "parameters": [{"in": "path", "name": "booking_id", "schema": {"title": "Booking Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CancellationQuoteOut"}}}}}, "description": "Computes the cancellation charge using the tier engine (days-out selects a tier; charge depends on tier type),\nusing the booking's snapshot totals/CoS.", "tags": ["I3 + I4. Booking"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CancellationQuoteIn"}}}, "required": true}}}, "/api/bookings/{booking_id}/cancellation": {"post": {"operationId": "selling_api_bookings_base_cancellation_booking", "summary": "Cancellation Booking", "parameters": [{"in": "path", "name": "booking_id", "schema": {"title": "Booking Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CancellationOut"}}}}}, "description": "Cancels the specified booking.", "tags": ["I3 + I4. Booking"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CancellationIn"}}}, "required": true}}}, "/api/release-requests/": {"get": {"operationId": "selling_api_release_requests_base_list_requests", "summary": "List Requests", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NinjaPaginationResponseSchema_ReleaseRequestOut_"}}}}}, "description": "Returns a list of release requests.", "tags": ["I5. Release Request (against a Hold)"]}}, "/api/release-requests/{request_id}/approve": {"post": {"operationId": "selling_api_release_requests_base_approve_request", "summary": "Approve Request", "parameters": [{"in": "path", "name": "request_id", "schema": {"title": "Request Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReleaseRequestResult"}}}}}, "description": "Approves a request and releases the hold transactionally.", "tags": ["I5. Release Request (against a Hold)"]}}, "/api/release-requests/{request_id}/deny": {"get": {"operationId": "selling_api_release_requests_base_deny_request", "summary": "Deny Request", "parameters": [{"in": "path", "name": "request_id", "schema": {"title": "Request Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReleaseRequestResult"}}}}}, "description": "Denies a release request.", "tags": ["I5. Release Request (against a Hold)"]}}, "/api/discounts/": {"get": {"operationId": "discounts_api_discounts_base_list_discounts", "summary": "List Discounts", "parameters": [{"in": "query", "name": "limit", "schema": {"default": 100, "minimum": 1, "title": "Limit", "type": "integer"}, "required": false}, {"in": "query", "name": "offset", "schema": {"default": 0, "minimum": 0, "title": "Offset", "type": "integer"}, "required": false}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NinjaPaginationResponseSchema_DiscountOut_"}}}}}, "description": "Returns a list of discount \"summaries\".", "tags": ["J1. Discounts"]}, "post": {"operationId": "discounts_api_discounts_base_create_discount", "summary": "Create Discount", "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DiscountOut"}}}}}, "description": "Creates a new discount and its targets.", "tags": ["J1. Discounts"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/DiscountIn"}}}, "required": true}}}, "/api/discounts/{discount_id}": {"get": {"operationId": "discounts_api_discounts_base_get_discount", "summary": "Get Discount", "parameters": [{"in": "path", "name": "discount_id", "schema": {"title": "Discount Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DiscountOut"}}}}}, "description": "Returns a single discount by id.", "tags": ["J1. Discounts"]}, "put": {"operationId": "discounts_api_discounts_base_update_discount", "summary": "Update Discount", "parameters": [{"in": "path", "name": "discount_id", "schema": {"title": "Discount Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DiscountOut"}}}}}, "description": "Updates discount by replacing discount fields and targets.", "tags": ["J1. Discounts"], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/DiscountIn"}}}, "required": true}}}, "/api/discounts/{discount_id}/activate": {"post": {"operationId": "discounts_api_discounts_base_activate_discount", "summary": "Activate Discount", "parameters": [{"in": "path", "name": "discount_id", "schema": {"title": "Discount Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DiscountActivateOut"}}}}}, "description": "Forces a discount into \"active\" state (admin override).", "tags": ["J1. Discounts"]}}, "/api/discounts/{discount_id}/deactivate": {"post": {"operationId": "discounts_api_discounts_base_deactivate_discount", "summary": "Deactivate Discount", "parameters": [{"in": "path", "name": "discount_id", "schema": {"title": "Discount Id", "type": "string"}, "required": true}], "responses": {"200": {"description": "OK", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DiscountDeactivateOut"}}}}}, "description": "Forces a discount out of activation early.", "tags": ["J1. Discounts"]}}, "/api/import-templates/": {"get": {"operationId": "import_export_api_import_templates_base_placeholder", "summary": "Placeholder", "parameters": [], "responses": {"200": {"description": "OK"}}, "description": "    ", "tags": ["K1. Templates"]}}, "/api/imports/": {"get": {"operationId": "import_export_api_imports_base_placeholder", "summary": "Placeholder", "parameters": [], "responses": {"200": {"description": "OK"}}, "description": "    ", "tags": ["K2. Import"]}}, "/api/exports/": {"get": {"operationId": "import_export_api_exports_base_placeholder", "summary": "Placeholder", "parameters": [], "responses": {"200": {"description": "OK"}}, "description": "    ", "tags": ["K3. Export"]}}}, "components": {"schemas": {"LoginOut": {"properties": {"id": {"title": "Id", "type": "string"}, "method": {"anyOf": [{"$ref": "#/components/schemas/Method"}, {"type": "null"}]}}, "required": ["id"], "title": "LoginOut", "type": "object"}, "Method": {"properties": {"name": {"title": "Name", "type": "string"}, "type": {"title": "Type", "type": "string"}}, "required": ["name", "type"], "title": "Method", "type": "object"}, "LoginIn": {"properties": {"email": {"format": "email", "title": "Email", "type": "string"}, "password": {"title": "Password", "type": "string"}, "remember_me": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "default": false, "title": "Remember Me"}}, "required": ["email", "password"], "title": "LoginIn", "type": "object"}, "MessageOut": {"properties": {"message": {"title": "Message", "type": "string"}}, "required": ["message"], "title": "MessageOut", "type": "object"}, "TokenOut": {"properties": {"access": {"title": "Access", "type": "string"}}, "required": ["access"], "title": "TokenOut", "type": "object"}, "ForgotPasswordIn": {"properties": {"email": {"format": "email", "title": "Email", "type": "string"}}, "required": ["email"], "title": "ForgotPasswordIn", "type": "object"}, "ResetPasswordIn": {"properties": {"id": {"title": "Id", "type": "string"}, "token": {"title": "Token", "type": "string"}, "password": {"title": "Password", "type": "string"}}, "required": ["id", "token", "password"], "title": "ResetPasswordIn", "type": "object"}, "TFASetupTOTPOut": {"properties": {"id": {"title": "Id", "type": "string"}, "otpauth_url": {"title": "Otpauth Url", "type": "string"}}, "required": ["id", "otpauth_url"], "title": "TFASetupTOTPOut", "type": "object"}, "TFASetupTOTPIn": {"properties": {"id": {"title": "Id", "type": "string"}}, "required": ["id"], "title": "TFASetupTOTPIn", "type": "object"}, "TFAConfirmOut": {"properties": {"id": {"title": "Id", "type": "string"}, "message": {"title": "Message", "type": "string"}}, "required": ["id", "message"], "title": "TFAConfirmOut", "type": "object"}, "TFAConfirmTOTPIn": {"properties": {"id": {"title": "Id", "type": "string"}, "url": {"title": "Url", "type": "string"}, "passcode": {"title": "Passcode", "type": "string"}}, "required": ["id", "url", "passcode"], "title": "TFAConfirmTOTPIn", "type": "object"}, "UnAuthPurpose": {"enum": ["login"], "title": "UnAuthPurpose", "type": "string"}, "TFASetupSMSIn": {"properties": {"id": {"title": "Id", "type": "string"}}, "required": ["id"], "title": "TFASetupSMSIn", "type": "object"}, "TFAVerifyIn": {"properties": {"id": {"title": "Id", "type": "string"}, "passcode": {"title": "Passcode", "type": "string"}}, "required": ["id", "passcode"], "title": "TFAVerifyIn", "type": "object"}, "UserPrefSchema": {"properties": {"opt_in_enabled": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Opt In Enabled"}, "notify_cabin_avail": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Notify Cabin Avail"}, "notify_flash_sale": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Notify Flash Sale"}, "notify_release_request": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Notify Release Request"}, "fx_mode": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Fx Mode"}}, "title": "UserPrefSchema", "type": "object"}, "UserProfileSchema": {"properties": {"preferences": {"$ref": "#/components/schemas/UserPrefSchema"}, "first_name": {"title": "First Name", "type": "string"}, "middle_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Middle Name"}, "last_name": {"title": "Last Name", "type": "string"}, "designation": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Designation"}, "email": {"maxLength": 254, "title": "Email", "type": "string"}, "phone": {"maxLength": 128, "title": "Phone", "type": "string"}, "twofa_method": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Twofa Method"}, "twofa_enabled": {"title": "Twofa Enabled", "type": "boolean"}}, "required": ["preferences", "first_name", "last_name", "email", "phone", "twofa_enabled"], "title": "UserProfileSchema", "type": "object"}, "UserProfileUpdateSchema": {"properties": {"first_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "First Name"}, "middle_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Middle Name"}, "last_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Last Name"}, "designation": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Designation"}, "preferences": {"anyOf": [{"$ref": "#/components/schemas/UserPrefSchema"}, {"type": "null"}]}}, "title": "UserProfileUpdateSchema", "type": "object"}, "AuthPurpose": {"enum": ["verify-old-phone", "verify-new-phone", "change-email", "change-password", "change-tfa-method"], "title": "AuthPurpose", "type": "string"}, "SecuritySetupIn": {"properties": {"purpose": {"$ref": "#/components/schemas/AuthPurpose"}}, "required": ["purpose"], "title": "SecuritySetupIn", "type": "object"}, "VerifySchema": {"properties": {"passcode": {"title": "Passcode", "type": "string"}}, "required": ["passcode"], "title": "VerifySchema", "type": "object"}, "ChangePhoneIn": {"properties": {"phone": {"format": "phone", "title": "Phone", "type": "string"}}, "required": ["phone"], "title": "ChangePhoneIn", "type": "object"}, "ChangePasswordIn": {"properties": {"passcode": {"title": "Passcode", "type": "string"}, "password": {"title": "Password", "type": "string"}, "confirm": {"title": "Confirm", "type": "string"}}, "required": ["passcode", "password", "confirm"], "title": "ChangePasswordIn", "type": "object"}, "ChangeEmailIn": {"properties": {"passcode": {"title": "Passcode", "type": "string"}, "email": {"format": "email", "title": "Email", "type": "string"}}, "required": ["passcode", "email"], "title": "ChangeEmailIn", "type": "object"}, "ChangeTFAMethodIn": {"properties": {"passcode": {"title": "Passcode", "type": "string"}, "method": {"$ref": "#/components/schemas/TFAMethod"}}, "required": ["passcode", "method"], "title": "ChangeTFAMethodIn", "type": "object"}, "TFAMethod": {"enum": ["sms", "totp"], "title": "TFAMethod", "type": "string"}, "Input": {"properties": {"limit": {"default": 100, "minimum": 1, "title": "Limit", "type": "integer"}, "offset": {"default": 0, "minimum": 0, "title": "Offset", "type": "integer"}}, "title": "Input", "type": "object"}, "NinjaPaginationResponseSchema_UserOut_": {"properties": {"count": {"title": "Count", "type": "integer"}, "items": {"items": {"$ref": "#/components/schemas/UserOut"}, "title": "Items", "type": "array"}}, "required": ["count", "items"], "title": "NinjaPaginationResponseSchema[UserOut]", "type": "object"}, "Status": {"enum": ["priced", "unpriced", "review", "overridden", "archived"], "title": "Status", "type": "string"}, "UserOut": {"properties": {"roles": {"items": {"$ref": "#/components/schemas/UserRoleSchema"}, "title": "Roles", "type": "array"}, "status": {"$ref": "#/components/schemas/Status"}, "id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "first_name": {"title": "First Name", "type": "string"}, "middle_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Middle Name"}, "last_name": {"title": "Last Name", "type": "string"}, "designation": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Designation"}, "email": {"maxLength": 254, "title": "Email", "type": "string"}, "phone": {"maxLength": 128, "title": "Phone", "type": "string"}}, "required": ["roles", "status", "first_name", "last_name", "email", "phone"], "title": "UserOut", "type": "object"}, "UserRoleSchema": {"properties": {"id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "name": {"title": "Name", "type": "string"}}, "required": ["name"], "title": "UserRoleSchema", "type": "object"}, "UserIn": {"properties": {"first_name": {"title": "First Name", "type": "string"}, "middle_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Middle Name"}, "last_name": {"title": "Last Name", "type": "string"}, "designation": {"title": "Designation", "type": "string"}, "email": {"format": "email", "title": "Email", "type": "string"}, "phone": {"format": "phone", "title": "Phone", "type": "string"}, "password": {"title": "Password", "type": "string"}, "role_id": {"format": "uuid", "title": "Role Id", "type": "string"}}, "required": ["first_name", "last_name", "designation", "email", "phone", "password", "role_id"], "title": "UserIn", "type": "object"}, "UserInPatch": {"properties": {"first_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "First Name"}, "middle_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Middle Name"}, "last_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Last Name"}, "designation": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Designation"}, "email": {"anyOf": [{"format": "email", "type": "string"}, {"type": "null"}], "title": "Email"}, "phone": {"anyOf": [{"format": "phone", "type": "string"}, {"type": "null"}], "title": "Phone"}, "password": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Password"}, "role_id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Role Id"}}, "title": "UserInPatch", "type": "object"}, "MessageIn": {"properties": {"text": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Text"}}, "title": "MessageIn", "type": "object"}, "NinjaPaginationResponseSchema_RoleOut_": {"properties": {"count": {"title": "Count", "type": "integer"}, "items": {"items": {"$ref": "#/components/schemas/RoleOut"}, "title": "Items", "type": "array"}}, "required": ["count", "items"], "title": "NinjaPaginationResponseSchema[RoleOut]", "type": "object"}, "RoleOut": {"properties": {"permissions": {"items": {"type": "string"}, "title": "Permissions", "type": "array"}, "id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "name": {"title": "Name", "type": "string"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}}, "required": ["permissions", "name"], "title": "RoleOut", "type": "object"}, "RoleIn": {"properties": {"name": {"title": "Name", "type": "string"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "permissions": {"items": {"type": "string"}, "title": "Permissions", "type": "array"}}, "required": ["name", "permissions"], "title": "RoleIn", "type": "object"}, "RoleInPatch": {"properties": {"name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "permissions": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Permissions"}}, "title": "RoleInPatch", "type": "object"}, "NinjaPaginationResponseSchema_PermissionOut_": {"properties": {"count": {"title": "Count", "type": "integer"}, "items": {"items": {"$ref": "#/components/schemas/PermissionOut"}, "title": "Items", "type": "array"}}, "required": ["count", "items"], "title": "NinjaPaginationResponseSchema[PermissionOut]", "type": "object"}, "PermissionOut": {"properties": {"key": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Key"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}}, "title": "PermissionOut", "type": "object"}, "AmenityOut": {"properties": {"id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "name": {"title": "Name", "type": "string"}, "is_active": {"title": "Is Active", "type": "boolean"}}, "required": ["name", "is_active"], "title": "AmenityOut", "type": "object"}, "NinjaPaginationResponseSchema_AmenityOut_": {"properties": {"count": {"title": "Count", "type": "integer"}, "items": {"items": {"$ref": "#/components/schemas/AmenityOut"}, "title": "Items", "type": "array"}}, "required": ["count", "items"], "title": "NinjaPaginationResponseSchema[AmenityOut]", "type": "object"}, "AmenityIn": {"properties": {"name": {"title": "Name", "type": "string"}, "is_active": {"title": "Is Active", "type": "boolean"}}, "required": ["name", "is_active"], "title": "AmenityIn", "type": "object"}, "AmenityInPatch": {"properties": {"name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "is_active": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Active"}}, "title": "AmenityInPatch", "type": "object"}, "CabinCategoryOut": {"properties": {"id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "name": {"title": "Name", "type": "string"}, "sort_order": {"title": "Sort Order", "type": "integer"}, "is_active": {"title": "Is Active", "type": "boolean"}}, "required": ["name", "sort_order", "is_active"], "title": "CabinCategoryOut", "type": "object"}, "NinjaPaginationResponseSchema_CabinCategoryOut_": {"properties": {"count": {"title": "Count", "type": "integer"}, "items": {"items": {"$ref": "#/components/schemas/CabinCategoryOut"}, "title": "Items", "type": "array"}}, "required": ["count", "items"], "title": "NinjaPaginationResponseSchema[CabinCategoryOut]", "type": "object"}, "CabinCategoryIn": {"properties": {"name": {"title": "Name", "type": "string"}, "sort_order": {"anyOf": [{"type": "integer"}, {"type": "null"}], "default": 100, "title": "Sort Order"}, "is_active": {"title": "Is Active", "type": "boolean"}}, "required": ["name", "is_active"], "title": "CabinCategoryIn", "type": "object"}, "CabinCategoryInPatch": {"properties": {"name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "sort_order": {"anyOf": [{"type": "integer"}, {"type": "null"}], "default": 100, "title": "Sort Order"}, "is_active": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Active"}}, "title": "CabinCategoryInPatch", "type": "object"}, "AppliesTo": {"enum": ["per_cabin", "per_pax"], "title": "AppliesTo", "type": "string"}, "CustomCostOut": {"properties": {"mode": {"$ref": "#/components/schemas/Mode"}, "applies_to": {"$ref": "#/components/schemas/AppliesTo"}, "id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "key": {"title": "Key", "type": "string"}, "label": {"title": "Label", "type": "string"}, "is_active": {"title": "Is Active", "type": "boolean"}}, "required": ["mode", "applies_to", "key", "label", "is_active"], "title": "CustomCostOut", "type": "object"}, "Mode": {"enum": ["fixed", "percent"], "title": "Mode", "type": "string"}, "NinjaPaginationResponseSchema_CustomCostOut_": {"properties": {"count": {"title": "Count", "type": "integer"}, "items": {"items": {"$ref": "#/components/schemas/CustomCostOut"}, "title": "Items", "type": "array"}}, "required": ["count", "items"], "title": "NinjaPaginationResponseSchema[CustomCostOut]", "type": "object"}, "CustomCostIn": {"properties": {"key": {"title": "Key", "type": "string"}, "label": {"title": "Label", "type": "string"}, "mode": {"$ref": "#/components/schemas/Mode"}, "applies_to": {"$ref": "#/components/schemas/AppliesTo"}, "is_active": {"title": "Is Active", "type": "boolean"}}, "required": ["key", "label", "mode", "applies_to", "is_active"], "title": "CustomCostIn", "type": "object"}, "CustomCostInPatch": {"properties": {"key": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Key"}, "label": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Label"}, "mode": {"anyOf": [{"$ref": "#/components/schemas/Mode"}, {"type": "null"}]}, "applies_to": {"anyOf": [{"$ref": "#/components/schemas/AppliesTo"}, {"type": "null"}]}, "is_active": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Active"}}, "title": "CustomCostInPatch", "type": "object"}, "ManualFXOut": {"properties": {"base": {"maxLength": 3, "title": "Base", "type": "string"}, "quote": {"maxLength": 3, "title": "Quote", "type": "string"}, "rate": {"pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Rate", "type": "string"}, "updated_at": {"format": "date-time", "title": "Updated At", "type": "string"}}, "required": ["base", "quote", "rate", "updated_at"], "title": "ManualFXOut", "type": "object"}, "NinjaPaginationResponseSchema_ManualFXOut_": {"properties": {"count": {"title": "Count", "type": "integer"}, "items": {"items": {"$ref": "#/components/schemas/ManualFXOut"}, "title": "Items", "type": "array"}}, "required": ["count", "items"], "title": "NinjaPaginationResponseSchema[ManualFXOut]", "type": "object"}, "ManualFXIn": {"properties": {"base": {"title": "Base", "type": "string"}, "quote": {"title": "Quote", "type": "string"}, "rate": {"anyOf": [{"type": "number"}, {"pattern": "^(?!^[-+.]*$)[+-]?0*(?:\\d{0,10}|(?=[\\d.]{1,19}0*$)\\d{0,10}\\.\\d{0,8}0*$)", "type": "string"}], "title": "Rate"}}, "required": ["base", "quote", "rate"], "title": "ManualFXIn", "type": "object"}, "ManualFXInList": {"properties": {"rates": {"items": {"$ref": "#/components/schemas/ManualFXIn"}, "title": "Rates", "type": "array"}}, "required": ["rates"], "title": "ManualFXInList", "type": "object"}, "LiveFXOut": {"properties": {"quotes": {"items": {"$ref": "#/components/schemas/QuoteOut"}, "title": "Quotes", "type": "array"}, "provider": {"title": "Provider", "type": "string"}, "base": {"maxLength": 3, "title": "Base", "type": "string"}}, "required": ["quotes", "provider", "base"], "title": "LiveFXOut", "type": "object"}, "QuoteOut": {"properties": {"is_stale": {"title": "Is Stale", "type": "boolean"}, "rate": {"pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Rate", "type": "string"}, "fetched_at": {"format": "date-time", "title": "Fetched At", "type": "string"}}, "required": ["is_stale", "rate", "fetched_at"], "title": "QuoteOut", "type": "object"}, "RefreshLiveFXIn": {"properties": {"base": {"title": "Base", "type": "string"}, "quotes": {"items": {"type": "string"}, "title": "Quotes", "type": "array"}}, "required": ["base", "quotes"], "title": "RefreshLiveFXIn", "type": "object"}, "CacheStatusOut": {"properties": {"provider": {"title": "Provider", "type": "string"}, "last_refresh_at": {"format": "date-time", "title": "Last Refresh At", "type": "string"}, "stale_after_hours": {"title": "Stale After Hours", "type": "integer"}, "status": {"$ref": "#/components/schemas/Status"}}, "required": ["provider", "last_refresh_at", "stale_after_hours", "status"], "title": "CacheStatusOut", "type": "object"}, "ReserveSettingsOut": {"properties": {"id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "max_hold_minutes": {"title": "Max Hold Minutes", "type": "integer"}, "reminder_scheduled_minutes": {"items": {}, "title": "Reminder Scheduled Minutes", "type": "array"}, "allow_extensions": {"title": "Allow Extensions", "type": "boolean"}, "max_extensions": {"title": "Max Extensions", "type": "integer"}, "extension_minutes": {"title": "Extension Minutes", "type": "integer"}}, "required": ["max_hold_minutes", "reminder_scheduled_minutes", "allow_extensions", "max_extensions", "extension_minutes"], "title": "ReserveSettingsOut", "type": "object"}, "ReserveSettingsIn": {"properties": {"max_hold_minutes": {"title": "Max Hold Minutes", "type": "integer"}, "reminder_scheduled_minutes": {"items": {"type": "integer"}, "title": "Reminder Scheduled Minutes", "type": "array"}, "allow_extensions": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "default": true, "title": "Allow Extensions"}, "max_extensions": {"anyOf": [{"type": "integer"}, {"type": "null"}], "default": 1, "title": "Max Extensions"}, "extension_minutes": {"anyOf": [{"type": "integer"}, {"type": "null"}], "default": 1440, "title": "Extension Minutes"}}, "required": ["max_hold_minutes", "reminder_scheduled_minutes"], "title": "ReserveSettingsIn", "type": "object"}, "CancellationPolicyOut": {"properties": {"tiers": {"items": {"$ref": "#/components/schemas/CancellationPolicyTierOut"}, "title": "Tiers", "type": "array"}, "id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "name": {"title": "Name", "type": "string"}, "non_refundable": {"title": "Non Refundable", "type": "boolean"}}, "required": ["tiers", "name", "non_refundable"], "title": "CancellationPolicyOut", "type": "object"}, "CancellationPolicyTierOut": {"properties": {"charge_type": {"$ref": "#/components/schemas/ChargeType"}, "id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "min_days": {"title": "Min Days", "type": "integer"}, "max_days": {"title": "Max Days", "type": "integer"}, "value": {"pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Value", "type": "string"}}, "required": ["charge_type", "min_days", "max_days", "value"], "title": "CancellationPolicyTierOut", "type": "object"}, "ChargeType": {"enum": ["percent_total", "percent_cos", "fixed_amount"], "title": "ChargeType", "type": "string"}, "NinjaPaginationResponseSchema_CancellationPolicyOut_": {"properties": {"count": {"title": "Count", "type": "integer"}, "items": {"items": {"$ref": "#/components/schemas/CancellationPolicyOut"}, "title": "Items", "type": "array"}}, "required": ["count", "items"], "title": "NinjaPaginationResponseSchema[CancellationPolicyOut]", "type": "object"}, "CancellationPolicyIn": {"properties": {"name": {"title": "Name", "type": "string"}, "non_refundable": {"title": "Non Refundable", "type": "boolean"}, "tiers": {"items": {"$ref": "#/components/schemas/CancellationPolicyTierIn"}, "title": "Tiers", "type": "array"}}, "required": ["name", "non_refundable", "tiers"], "title": "CancellationPolicyIn", "type": "object"}, "CancellationPolicyTierIn": {"properties": {"min_days": {"title": "Min Days", "type": "integer"}, "max_days": {"title": "Max Days", "type": "integer"}, "charge_type": {"$ref": "#/components/schemas/ChargeType"}, "value": {"anyOf": [{"type": "number"}, {"pattern": "^(?!^[-+.]*$)[+-]?0*(?:\\d{0,6}|(?=[\\d.]{1,11}0*$)\\d{0,6}\\.\\d{0,4}0*$)", "type": "string"}], "title": "Value"}}, "required": ["min_days", "max_days", "charge_type", "value"], "title": "CancellationPolicyTierIn", "type": "object"}, "QuoteCancellationChargeOut": {"properties": {"days_out": {"title": "Days Out", "type": "integer"}, "tier": {"$ref": "#/components/schemas/CancellationPolicyTierOut"}, "clamped_to_total": {"title": "Clamped To Total", "type": "boolean"}}, "required": ["days_out", "tier", "clamped_to_total"], "title": "QuoteCancellationChargeOut", "type": "object"}, "MoneyOut": {"properties": {"amount": {"anyOf": [{"type": "number"}, {"pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d{0,2}0*$", "type": "string"}], "title": "Amount"}, "currency": {"enum": ["AED", "AFN", "ALL", "AMD", "ANG", "AOA", "ARS", "AUD", "AWG", "AZN", "BAM", "BBD", "BDT", "BGN", "BHD", "BIF", "BMD", "BND", "BOB", "BOV", "BRL", "BSD", "BTN", "BWP", "BYN", "BZD", "CAD", "CDF", "CHE", "CHF", "CHW", "CLF", "CLP", "CNY", "COP", "COU", "CRC", "CUC", "CUP", "CVE", "CZK", "DJF", "DKK", "DOP", "DZD", "EGP", "ERN", "ETB", "EUR", "FJD", "FKP", "GBP", "GEL", "GHS", "GIP", "GMD", "GNF", "GTQ", "GYD", "HKD", "HNL", "HRK", "HTG", "HUF", "IDR", "ILS", "INR", "IQD", "IRR", "ISK", "JMD", "JOD", "JPY", "KES", "KGS", "KHR", "KMF", "KPW", "KRW", "KWD", "KYD", "KZT", "LAK", "LBP", "LKR", "LRD", "LSL", "LYD", "MAD", "MDL", "MGA", "MKD", "MMK", "MNT", "MOP", "MRU", "MUR", "MVR", "MWK", "MXN", "MXV", "MYR", "MZN", "NAD", "NGN", "NIO", "NOK", "NPR", "NZD", "OMR", "PAB", "PEN", "PGK", "PHP", "PKR", "PLN", "PYG", "QAR", "RON", "RSD", "RUB", "RWF", "SAR", "SBD", "SCR", "SDG", "SEK", "SGD", "SHP", "SLE", "SLL", "SOS", "SRD", "SSP", "STN", "SVC", "SYP", "SZL", "THB", "TJS", "TMT", "TND", "TOP", "TRY", "TTD", "TWD", "TZS", "UAH", "UGX", "USD", "USN", "UYI", "UYU", "UYW", "UZS", "VED", "VES", "VND", "VUV", "WST", "XAF", "XCD", "XOF", "XPF", "XSU", "XUA", "YER", "ZAR", "ZMW", "ZWL"], "maxLength": 3, "minLength": 3, "title": "Currency", "type": "string"}}, "required": ["amount", "currency"], "title": "MoneyOut", "type": "object"}, "QuoteCancellationChargeIn": {"properties": {"departure_date": {"format": "date", "title": "Departure Date", "type": "string"}, "today": {"format": "date", "title": "Today", "type": "string"}, "total": {"$ref": "#/components/schemas/MoneyOut"}, "cos": {"$ref": "#/components/schemas/MoneyOut"}}, "required": ["departure_date", "today", "total", "cos"], "title": "QuoteCancellationChargeIn", "type": "object"}, "NinjaPaginationResponseSchema_ShipOut_": {"properties": {"count": {"title": "Count", "type": "integer"}, "items": {"items": {"$ref": "#/components/schemas/ShipOut"}, "title": "Items", "type": "array"}}, "required": ["count", "items"], "title": "NinjaPaginationResponseSchema[ShipOut]", "type": "object"}, "ShipOut": {"properties": {"currencies": {"items": {"enum": ["AED", "AFN", "ALL", "AMD", "ANG", "AOA", "ARS", "AUD", "AWG", "AZN", "BAM", "BBD", "BDT", "BGN", "BHD", "BIF", "BMD", "BND", "BOB", "BOV", "BRL", "BSD", "BTN", "BWP", "BYN", "BZD", "CAD", "CDF", "CHE", "CHF", "CHW", "CLF", "CLP", "CNY", "COP", "COU", "CRC", "CUC", "CUP", "CVE", "CZK", "DJF", "DKK", "DOP", "DZD", "EGP", "ERN", "ETB", "EUR", "FJD", "FKP", "GBP", "GEL", "GHS", "GIP", "GMD", "GNF", "GTQ", "GYD", "HKD", "HNL", "HRK", "HTG", "HUF", "IDR", "ILS", "INR", "IQD", "IRR", "ISK", "JMD", "JOD", "JPY", "KES", "KGS", "KHR", "KMF", "KPW", "KRW", "KWD", "KYD", "KZT", "LAK", "LBP", "LKR", "LRD", "LSL", "LYD", "MAD", "MDL", "MGA", "MKD", "MMK", "MNT", "MOP", "MRU", "MUR", "MVR", "MWK", "MXN", "MXV", "MYR", "MZN", "NAD", "NGN", "NIO", "NOK", "NPR", "NZD", "OMR", "PAB", "PEN", "PGK", "PHP", "PKR", "PLN", "PYG", "QAR", "RON", "RSD", "RUB", "RWF", "SAR", "SBD", "SCR", "SDG", "SEK", "SGD", "SHP", "SLE", "SLL", "SOS", "SRD", "SSP", "STN", "SVC", "SYP", "SZL", "THB", "TJS", "TMT", "TND", "TOP", "TRY", "TTD", "TWD", "TZS", "UAH", "UGX", "USD", "USN", "UYI", "UYU", "UYW", "UZS", "VED", "VES", "VND", "VUV", "WST", "XAF", "XCD", "XOF", "XPF", "XSU", "XUA", "YER", "ZAR", "ZMW", "ZWL"], "maxLength": 3, "minLength": 3, "type": "string"}, "title": "Currencies", "type": "array"}, "photo_gallery": {"items": {"format": "uri", "minLength": 1, "type": "string"}, "title": "Photo Gallery", "type": "array"}, "id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "name": {"title": "Name", "type": "string"}, "operator": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Operator"}, "contact_person": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Contact Person"}, "address": {"anyOf": [{"type": "object"}, {"type": "null"}], "title": "Address"}, "is_archived": {"title": "Is Archived", "type": "boolean"}, "amenities": {"items": {"type": "string"}, "title": "Amenities", "type": "array"}}, "required": ["currencies", "photo_gallery", "name", "is_archived", "amenities"], "title": "ShipOut", "type": "object"}, "ShipIn": {"properties": {"name": {"title": "Name", "type": "string"}, "operator": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Operator"}, "contact_person": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Contact Person"}, "address": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Address"}, "currencies": {"items": {"enum": ["AED", "AFN", "ALL", "AMD", "ANG", "AOA", "ARS", "AUD", "AWG", "AZN", "BAM", "BBD", "BDT", "BGN", "BHD", "BIF", "BMD", "BND", "BOB", "BOV", "BRL", "BSD", "BTN", "BWP", "BYN", "BZD", "CAD", "CDF", "CHE", "CHF", "CHW", "CLF", "CLP", "CNY", "COP", "COU", "CRC", "CUC", "CUP", "CVE", "CZK", "DJF", "DKK", "DOP", "DZD", "EGP", "ERN", "ETB", "EUR", "FJD", "FKP", "GBP", "GEL", "GHS", "GIP", "GMD", "GNF", "GTQ", "GYD", "HKD", "HNL", "HRK", "HTG", "HUF", "IDR", "ILS", "INR", "IQD", "IRR", "ISK", "JMD", "JOD", "JPY", "KES", "KGS", "KHR", "KMF", "KPW", "KRW", "KWD", "KYD", "KZT", "LAK", "LBP", "LKR", "LRD", "LSL", "LYD", "MAD", "MDL", "MGA", "MKD", "MMK", "MNT", "MOP", "MRU", "MUR", "MVR", "MWK", "MXN", "MXV", "MYR", "MZN", "NAD", "NGN", "NIO", "NOK", "NPR", "NZD", "OMR", "PAB", "PEN", "PGK", "PHP", "PKR", "PLN", "PYG", "QAR", "RON", "RSD", "RUB", "RWF", "SAR", "SBD", "SCR", "SDG", "SEK", "SGD", "SHP", "SLE", "SLL", "SOS", "SRD", "SSP", "STN", "SVC", "SYP", "SZL", "THB", "TJS", "TMT", "TND", "TOP", "TRY", "TTD", "TWD", "TZS", "UAH", "UGX", "USD", "USN", "UYI", "UYU", "UYW", "UZS", "VED", "VES", "VND", "VUV", "WST", "XAF", "XCD", "XOF", "XPF", "XSU", "XUA", "YER", "ZAR", "ZMW", "ZWL"], "maxLength": 3, "minLength": 3, "type": "string"}, "title": "Currencies", "type": "array"}, "amenities": {"anyOf": [{"items": {"format": "uuid", "type": "string"}, "type": "array"}, {"type": "null"}], "title": "Amenities"}, "photo_gallery": {"anyOf": [{"items": {"format": "uri", "minLength": 1, "type": "string"}, "type": "array"}, {"type": "null"}], "title": "Photo Gallery"}}, "required": ["name", "currencies"], "title": "ShipIn", "type": "object"}, "ShipUpdateIn": {"properties": {"name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "operator": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Operator"}, "contact_person": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Contact Person"}, "address": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Address"}}, "title": "ShipUpdateIn", "type": "object"}, "ShipCurrenciesIn": {"properties": {"currencies": {"items": {"enum": ["AED", "AFN", "ALL", "AMD", "ANG", "AOA", "ARS", "AUD", "AWG", "AZN", "BAM", "BBD", "BDT", "BGN", "BHD", "BIF", "BMD", "BND", "BOB", "BOV", "BRL", "BSD", "BTN", "BWP", "BYN", "BZD", "CAD", "CDF", "CHE", "CHF", "CHW", "CLF", "CLP", "CNY", "COP", "COU", "CRC", "CUC", "CUP", "CVE", "CZK", "DJF", "DKK", "DOP", "DZD", "EGP", "ERN", "ETB", "EUR", "FJD", "FKP", "GBP", "GEL", "GHS", "GIP", "GMD", "GNF", "GTQ", "GYD", "HKD", "HNL", "HRK", "HTG", "HUF", "IDR", "ILS", "INR", "IQD", "IRR", "ISK", "JMD", "JOD", "JPY", "KES", "KGS", "KHR", "KMF", "KPW", "KRW", "KWD", "KYD", "KZT", "LAK", "LBP", "LKR", "LRD", "LSL", "LYD", "MAD", "MDL", "MGA", "MKD", "MMK", "MNT", "MOP", "MRU", "MUR", "MVR", "MWK", "MXN", "MXV", "MYR", "MZN", "NAD", "NGN", "NIO", "NOK", "NPR", "NZD", "OMR", "PAB", "PEN", "PGK", "PHP", "PKR", "PLN", "PYG", "QAR", "RON", "RSD", "RUB", "RWF", "SAR", "SBD", "SCR", "SDG", "SEK", "SGD", "SHP", "SLE", "SLL", "SOS", "SRD", "SSP", "STN", "SVC", "SYP", "SZL", "THB", "TJS", "TMT", "TND", "TOP", "TRY", "TTD", "TWD", "TZS", "UAH", "UGX", "USD", "USN", "UYI", "UYU", "UYW", "UZS", "VED", "VES", "VND", "VUV", "WST", "XAF", "XCD", "XOF", "XPF", "XSU", "XUA", "YER", "ZAR", "ZMW", "ZWL"], "maxLength": 3, "minLength": 3, "type": "string"}, "title": "Currencies", "type": "array"}}, "required": ["currencies"], "title": "ShipCurrenciesIn", "type": "object"}, "ShipAmenitiesIn": {"properties": {"amenities": {"items": {"format": "uuid", "type": "string"}, "title": "Amenities", "type": "array"}}, "required": ["amenities"], "title": "ShipAmenitiesIn", "type": "object"}, "ShipPhotoIn": {"properties": {"url": {"format": "uri", "minLength": 1, "title": "Url", "type": "string"}}, "required": ["url"], "title": "ShipPhotoIn", "type": "object"}, "CabinMapOut": {"properties": {"zones": {"items": {"$ref": "#/components/schemas/CabinZoneOut"}, "title": "Zones", "type": "array"}, "status": {"$ref": "#/components/schemas/MapStatus"}, "id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "version": {"title": "Version", "type": "integer"}, "svg_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Svg Url"}, "raster_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Raster Url"}, "notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Notes"}, "ship": {"format": "uuid", "title": "Ship", "type": "string"}}, "required": ["zones", "status", "version", "ship"], "title": "CabinMapOut", "type": "object"}, "CabinZoneOut": {"properties": {"id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "polygon": {"title": "Polygon", "type": "object"}, "cabin": {"format": "uuid", "title": "Cabin", "type": "string"}}, "required": ["polygon", "cabin"], "title": "CabinZoneOut", "type": "object"}, "MapStatus": {"enum": ["draft", "active", "archived"], "title": "MapStatus", "type": "string"}, "NinjaPaginationResponseSchema_CabinMapOut_": {"properties": {"count": {"title": "Count", "type": "integer"}, "items": {"items": {"$ref": "#/components/schemas/CabinMapOut"}, "title": "Items", "type": "array"}}, "required": ["count", "items"], "title": "NinjaPaginationResponseSchema[CabinMapOut]", "type": "object"}, "CabinMapIn": {"properties": {"notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Notes"}}, "title": "CabinMapIn", "type": "object"}, "NinjaPaginationResponseSchema_CabinZoneOut_": {"properties": {"count": {"title": "Count", "type": "integer"}, "items": {"items": {"$ref": "#/components/schemas/CabinZoneOut"}, "title": "Items", "type": "array"}}, "required": ["count", "items"], "title": "NinjaPaginationResponseSchema[CabinZoneOut]", "type": "object"}, "CabinZoneReplaceOut": {"properties": {"updated": {"title": "Updated", "type": "integer"}}, "required": ["updated"], "title": "CabinZoneReplaceOut", "type": "object"}, "CabinZoneIn": {"properties": {"cabin": {"format": "uuid", "title": "Cabin", "type": "string"}, "polygon": {"additionalProperties": true, "title": "Polygon", "type": "object"}}, "required": ["cabin", "polygon"], "title": "CabinZoneIn", "type": "object"}, "CabinZoneReplaceIn": {"properties": {"zones": {"items": {"$ref": "#/components/schemas/CabinZoneIn"}, "title": "Zones", "type": "array"}}, "required": ["zones"], "title": "CabinZoneReplaceIn", "type": "object"}, "CabinMapUpdateIn": {"properties": {"notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Notes"}, "svg_url": {"anyOf": [{"format": "uri", "minLength": 1, "type": "string"}, {"type": "null"}], "title": "Svg Url"}, "raster_url": {"anyOf": [{"format": "uri", "minLength": 1, "type": "string"}, {"type": "null"}], "title": "Raster Url"}}, "title": "CabinMapUpdateIn", "type": "object"}, "UploadUrlOut": {"properties": {"upload_url": {"format": "uri", "maxLength": 2083, "minLength": 1, "title": "Upload Url", "type": "string"}, "asset_url": {"format": "uri", "minLength": 1, "title": "Asset Url", "type": "string"}}, "required": ["upload_url", "asset_url"], "title": "UploadUrlOut", "type": "object"}, "UploadKind": {"enum": ["svg", "raster"], "title": "UploadKind", "type": "string"}, "UploadUrlIn": {"properties": {"kind": {"$ref": "#/components/schemas/UploadKind"}, "filename": {"title": "Filename", "type": "string"}}, "required": ["kind", "filename"], "title": "UploadUrlIn", "type": "object"}, "CabinZoneUpdateIn": {"properties": {"polygon": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Polygon"}, "cabin": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Cabin"}}, "title": "CabinZoneUpdateIn", "type": "object"}, "CabinMapActivateOut": {"properties": {"activated_map": {"format": "uuid", "title": "Activated Map", "type": "string"}, "previous_map": {"format": "uuid", "title": "Previous Map", "type": "string"}}, "required": ["activated_map", "previous_map"], "title": "CabinMapActivateOut", "type": "object"}, "CabinOut": {"properties": {"id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "name": {"title": "Name", "type": "string"}, "number": {"title": "Number", "type": "string"}, "deck": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Deck"}, "is_archived": {"title": "Is Archived", "type": "boolean"}, "ship": {"format": "uuid", "title": "Ship", "type": "string"}, "category": {"format": "uuid", "title": "Category", "type": "string"}}, "required": ["name", "number", "is_archived", "ship", "category"], "title": "CabinOut", "type": "object"}, "NinjaPaginationResponseSchema_CabinOut_": {"properties": {"count": {"title": "Count", "type": "integer"}, "items": {"items": {"$ref": "#/components/schemas/CabinOut"}, "title": "Items", "type": "array"}}, "required": ["count", "items"], "title": "NinjaPaginationResponseSchema[CabinOut]", "type": "object"}, "CabinIn": {"properties": {"name": {"title": "Name", "type": "string"}, "number": {"title": "Number", "type": "string"}, "deck": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Deck"}, "category": {"format": "uuid", "title": "Category", "type": "string"}}, "required": ["name", "number", "category"], "title": "CabinIn", "type": "object"}, "CabinInPatch": {"properties": {"name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "number": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Number"}, "deck": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Deck"}, "category": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Category"}}, "title": "CabinInPatch", "type": "object"}, "NinjaPaginationResponseSchema_RouteOut_": {"properties": {"count": {"title": "Count", "type": "integer"}, "items": {"items": {"$ref": "#/components/schemas/RouteOut"}, "title": "Items", "type": "array"}}, "required": ["count", "items"], "title": "NinjaPaginationResponseSchema[RouteOut]", "type": "object"}, "RouteOut": {"properties": {"id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Notes"}}, "title": "RouteOut", "type": "object"}, "RouteIn": {"properties": {"name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Notes"}}, "title": "RouteIn", "type": "object"}, "NinjaPaginationResponseSchema_RouteLegOut_": {"properties": {"count": {"title": "Count", "type": "integer"}, "items": {"items": {"$ref": "#/components/schemas/RouteLegOut"}, "title": "Items", "type": "array"}}, "required": ["count", "items"], "title": "NinjaPaginationResponseSchema[RouteLegOut]", "type": "object"}, "RouteLegOut": {"properties": {"id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "seq": {"title": "Seq", "type": "integer"}, "place_id": {"title": "Place Id", "type": "string"}, "lat": {"pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Lat", "type": "string"}, "lng": {"pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Lng", "type": "string"}, "tz": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tz"}}, "required": ["seq", "place_id", "lat", "lng"], "title": "RouteLegOut", "type": "object"}, "RouteLegIn": {"properties": {"place": {"format": "uuid", "title": "Place", "type": "string"}, "lat": {"anyOf": [{"maximum": 90.0, "minimum": -90.0, "type": "number"}, {"pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "type": "string"}], "title": "Lat"}, "lng": {"anyOf": [{"maximum": 180.0, "minimum": -180.0, "type": "number"}, {"pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "type": "string"}], "title": "Lng"}, "tz": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tz"}, "seq": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Seq"}}, "required": ["place", "lat", "lng"], "title": "RouteLegIn", "type": "object"}, "RouteLegUpdateIn": {"properties": {"place": {"format": "uuid", "title": "Place", "type": "string"}, "lat": {"anyOf": [{"maximum": 90.0, "minimum": -90.0, "type": "number"}, {"pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "type": "string"}], "title": "Lat"}, "lng": {"anyOf": [{"maximum": 180.0, "minimum": -180.0, "type": "number"}, {"pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "type": "string"}], "title": "Lng"}, "tz": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tz"}}, "required": ["place", "lat", "lng"], "title": "RouteLegUpdateIn", "type": "object"}, "RouteLegReorderIn": {"properties": {"order": {"items": {"format": "uuid", "type": "string"}, "title": "Order", "type": "array"}}, "required": ["order"], "title": "RouteLegReorderIn", "type": "object"}, "PlaceOut": {"properties": {"place_id": {"title": "Place Id", "type": "string"}, "display_text": {"title": "Display Text", "type": "string"}}, "required": ["place_id", "display_text"], "title": "PlaceOut", "type": "object"}, "PlaceDetailsOut": {"properties": {"place_id": {"title": "Place Id", "type": "string"}, "lat": {"anyOf": [{"maximum": 90.0, "minimum": -90.0, "type": "number"}, {"pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "type": "string"}], "title": "Lat"}, "lng": {"anyOf": [{"maximum": 180.0, "minimum": -180.0, "type": "number"}, {"pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "type": "string"}], "title": "Lng"}, "tz": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tz"}}, "required": ["place_id", "lat", "lng"], "title": "PlaceDetailsOut", "type": "object"}, "NinjaPaginationResponseSchema_SeasonOut_": {"properties": {"count": {"title": "Count", "type": "integer"}, "items": {"items": {"$ref": "#/components/schemas/SeasonOut"}, "title": "Items", "type": "array"}}, "required": ["count", "items"], "title": "NinjaPaginationResponseSchema[SeasonOut]", "type": "object"}, "SeasonOut": {"properties": {"id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "name": {"title": "Name", "type": "string"}, "start_date": {"format": "date", "title": "Start Date", "type": "string"}, "end_date": {"format": "date", "title": "End Date", "type": "string"}, "default_margin_b2b": {"pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Default Margin B2B", "type": "string"}, "default_margin_b2c": {"pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Default Margin B2C", "type": "string"}, "is_archived": {"title": "Is Archived", "type": "boolean"}, "ships": {"items": {"type": "string"}, "title": "Ships", "type": "array"}}, "required": ["name", "start_date", "end_date", "default_margin_b2b", "default_margin_b2c", "is_archived", "ships"], "title": "SeasonOut", "type": "object"}, "SeasonIn": {"properties": {"name": {"title": "Name", "type": "string"}, "start_date": {"format": "date", "title": "Start Date", "type": "string"}, "end_date": {"format": "date", "title": "End Date", "type": "string"}, "default_margin_b2b": {"anyOf": [{"type": "number"}, {"pattern": "^(?!^[-+.]*$)[+-]?0*(?:\\d{0,2}|(?=[\\d.]{1,7}0*$)\\d{0,2}\\.\\d{0,4}0*$)", "type": "string"}], "title": "Default Margin B2B"}, "default_margin_b2c": {"anyOf": [{"type": "number"}, {"pattern": "^(?!^[-+.]*$)[+-]?0*(?:\\d{0,2}|(?=[\\d.]{1,7}0*$)\\d{0,2}\\.\\d{0,4}0*$)", "type": "string"}], "title": "Default Margin B2C"}}, "required": ["name", "start_date", "end_date", "default_margin_b2b", "default_margin_b2c"], "title": "SeasonIn", "type": "object"}, "AssignShips": {"properties": {"ships": {"items": {"format": "uuid", "type": "string"}, "title": "Ships", "type": "array"}}, "required": ["ships"], "title": "AssignShips", "type": "object"}, "OverlapSeasonOut": {"properties": {"overlap_start": {"format": "date", "title": "Overlap Start", "type": "string"}, "overlap_end": {"format": "date", "title": "Overlap End", "type": "string"}, "id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "name": {"title": "Name", "type": "string"}, "start_date": {"format": "date", "title": "Start Date", "type": "string"}, "end_date": {"format": "date", "title": "End Date", "type": "string"}}, "required": ["overlap_start", "overlap_end", "name", "start_date", "end_date"], "title": "OverlapSeasonOut", "type": "object"}, "ValidateOverlapSeasonsOut": {"properties": {"is_valid": {"title": "Is Valid", "type": "boolean"}, "overlaps": {"items": {"$ref": "#/components/schemas/OverlapSeasonOut"}, "title": "Overlaps", "type": "array"}}, "required": ["is_valid", "overlaps"], "title": "ValidateOverlapSeasonsOut", "type": "object"}, "ValidateOverlapSeasonsIn": {"properties": {"start_date": {"format": "date", "title": "Start Date", "type": "string"}, "end_date": {"format": "date", "title": "End Date", "type": "string"}, "exclude_season_id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Exclude Season Id"}}, "required": ["start_date", "end_date"], "title": "ValidateOverlapSeasonsIn", "type": "object"}, "NinjaPaginationResponseSchema_SailingOut_": {"properties": {"count": {"title": "Count", "type": "integer"}, "items": {"items": {"$ref": "#/components/schemas/SailingOut"}, "title": "Items", "type": "array"}}, "required": ["count", "items"], "title": "NinjaPaginationResponseSchema[SailingOut]", "type": "object"}, "SailingOut": {"properties": {"id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "departure_date": {"format": "date", "title": "Departure Date", "type": "string"}, "nights": {"title": "Nights", "type": "integer"}, "season": {"format": "uuid", "title": "Season", "type": "string"}, "ship": {"format": "uuid", "title": "Ship", "type": "string"}, "route": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Route"}}, "required": ["departure_date", "nights", "season", "ship"], "title": "SailingOut", "type": "object"}, "SailingIn": {"properties": {"season": {"format": "uuid", "title": "Season", "type": "string"}, "ship": {"format": "uuid", "title": "Ship", "type": "string"}, "route": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Route"}, "departure_date": {"format": "date", "title": "Departure Date", "type": "string"}, "nights": {"title": "Nights", "type": "integer"}}, "required": ["season", "ship", "departure_date", "nights"], "title": "SailingIn", "type": "object"}, "ValidateOverlapSailingsOut": {"properties": {"is_valid": {"title": "Is Valid", "type": "boolean"}, "overlaps": {"items": {"$ref": "#/components/schemas/OverlapSeasonOut"}, "title": "Overlaps", "type": "array"}}, "required": ["is_valid", "overlaps"], "title": "ValidateOverlapSailingsOut", "type": "object"}, "ValidateOverlapSailingsIn": {"properties": {"ship": {"format": "uuid", "title": "Ship", "type": "string"}, "departure_date": {"format": "date", "title": "Departure Date", "type": "string"}, "nights": {"title": "Nights", "type": "integer"}, "exclude_sailing_id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Exclude Sailing Id"}, "season": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Season"}}, "required": ["ship", "departure_date", "nights"], "title": "ValidateOverlapSailingsIn", "type": "object"}, "RouteSummaryOut": {"properties": {"id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}}, "title": "RouteSummaryOut", "type": "object"}, "SailingSummaryOut": {"properties": {"id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "departure_date": {"format": "date", "title": "Departure Date", "type": "string"}, "nights": {"title": "Nights", "type": "integer"}}, "required": ["departure_date", "nights"], "title": "SailingSummaryOut", "type": "object"}, "SeasonSummaryOut": {"properties": {"id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "name": {"title": "Name", "type": "string"}}, "required": ["name"], "title": "SeasonSummaryOut", "type": "object"}, "ShipSummaryOut": {"properties": {"id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "name": {"title": "Name", "type": "string"}}, "required": ["name"], "title": "ShipSummaryOut", "type": "object"}, "SummaryOut": {"properties": {"sailing": {"$ref": "#/components/schemas/SailingSummaryOut"}, "ship": {"$ref": "#/components/schemas/ShipSummaryOut"}, "season": {"$ref": "#/components/schemas/SeasonSummaryOut"}, "route": {"$ref": "#/components/schemas/RouteSummaryOut"}}, "required": ["sailing", "ship", "season", "route"], "title": "SummaryOut", "type": "object"}, "BookingAvailabilityOut": {"properties": {"id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "uc_ref": {"title": "Uc Ref", "type": "string"}}, "required": ["uc_ref"], "title": "BookingAvailabilityOut", "type": "object"}, "CabinAvailabilityOut": {"properties": {"cabin": {"format": "uuid", "title": "Cabin", "type": "string"}, "status": {"$ref": "#/components/schemas/CabinStatus"}, "hold": {"anyOf": [{"$ref": "#/components/schemas/HoldAvailabilityOut"}, {"type": "null"}]}, "booking": {"anyOf": [{"$ref": "#/components/schemas/BookingAvailabilityOut"}, {"type": "null"}]}}, "required": ["cabin", "status"], "title": "CabinAvailabilityOut", "type": "object"}, "CabinStatus": {"enum": ["available", "reserved", "booked"], "title": "CabinStatus", "type": "string"}, "HoldAvailabilityOut": {"properties": {"id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "uc_ref": {"title": "Uc Ref", "type": "string"}, "expires_at": {"format": "date-time", "title": "Expires At", "type": "string"}}, "required": ["uc_ref", "expires_at"], "title": "HoldAvailabilityOut", "type": "object"}, "NinjaPaginationResponseSchema_CabinAvailabilityOut_": {"properties": {"count": {"title": "Count", "type": "integer"}, "items": {"items": {"$ref": "#/components/schemas/CabinAvailabilityOut"}, "title": "Items", "type": "array"}}, "required": ["count", "items"], "title": "NinjaPaginationResponseSchema[CabinAvailabilityOut]", "type": "object"}, "FXMode": {"enum": ["manual", "live"], "title": "FXMode", "type": "string"}, "GraphCellsOut": {"properties": {"sailing": {"format": "uuid", "title": "Sailing", "type": "string"}, "cabin": {"format": "uuid", "title": "Cabin", "type": "string"}, "category": {"format": "uuid", "title": "Category", "type": "string"}, "deck": {"title": "Deck", "type": "string"}, "status": {"$ref": "#/components/schemas/Status"}, "is_overridden": {"title": "Is Overridden", "type": "boolean"}, "price_display": {"$ref": "#/components/schemas/MoneyOut"}}, "required": ["sailing", "cabin", "category", "deck", "status", "is_overridden", "price_display"], "title": "GraphCellsOut", "type": "object"}, "GraphCoverageOut": {"properties": {"cabins_total": {"title": "Cabins Total", "type": "integer"}, "priced": {"title": "Priced", "type": "integer"}, "unpriced": {"title": "Unpriced", "type": "integer"}, "overriden": {"title": "Overriden", "type": "integer"}, "archived": {"title": "Archived", "type": "integer"}}, "required": ["cabins_total", "priced", "unpriced", "overriden", "archived"], "title": "GraphCoverageOut", "type": "object"}, "Occupancy": {"enum": ["double", "single"], "title": "Occupancy", "type": "string"}, "PricingGraphOut": {"properties": {"scope": {"$ref": "#/components/schemas/ScopeOut"}, "coverage": {"$ref": "#/components/schemas/GraphCoverageOut"}, "cells": {"$ref": "#/components/schemas/GraphCellsOut"}}, "required": ["scope", "coverage", "cells"], "title": "PricingGraphOut", "type": "object"}, "ScopeOut": {"properties": {"season": {"format": "uuid", "title": "Season", "type": "string"}, "ship": {"format": "uuid", "title": "Ship", "type": "string"}, "sailings": {"items": {"format": "uuid", "type": "string"}, "title": "Sailings", "type": "array"}, "fx_mode": {"$ref": "#/components/schemas/FXMode"}, "occupancy": {"$ref": "#/components/schemas/Occupancy"}}, "required": ["season", "ship", "sailings", "fx_mode", "occupancy"], "title": "ScopeOut", "type": "object"}, "EffectiveSource": {"enum": ["default", "override"], "title": "EffectiveSource", "type": "string"}, "ListItemsOut": {"properties": {"sailing": {"format": "uuid", "title": "Sailing", "type": "string"}, "cabin": {"$ref": "#/components/schemas/CabinOut"}, "status": {"$ref": "#/components/schemas/Status"}, "effective_source": {"$ref": "#/components/schemas/EffectiveSource"}, "price_display": {"$ref": "#/components/schemas/MoneyOut"}, "has_custom_costs": {"title": "Has Custom Costs", "type": "boolean"}}, "required": ["sailing", "cabin", "status", "effective_source", "price_display", "has_custom_costs"], "title": "ListItemsOut", "type": "object"}, "ListTotalsOut": {"properties": {"cos_total": {"$ref": "#/components/schemas/MoneyOut"}, "b2b_total": {"$ref": "#/components/schemas/MoneyOut"}, "b2c_total": {"$ref": "#/components/schemas/MoneyOut"}}, "required": ["cos_total", "b2b_total", "b2c_total"], "title": "ListTotalsOut", "type": "object"}, "NinjaPaginationResponseSchema_ListItemsOut_": {"properties": {"count": {"title": "Count", "type": "integer"}, "items": {"items": {"$ref": "#/components/schemas/ListItemsOut"}, "title": "Items", "type": "array"}}, "required": ["count", "items"], "title": "NinjaPaginationResponseSchema[ListItemsOut]", "type": "object"}, "PricingListOut": {"properties": {"scope": {"$ref": "#/components/schemas/ScopeOut"}, "totals": {"$ref": "#/components/schemas/ListTotalsOut"}, "page": {"$ref": "#/components/schemas/NinjaPaginationResponseSchema_ListItemsOut_"}}, "required": ["scope", "totals", "page"], "title": "PricingListOut", "type": "object"}, "CabinOverrideIn": {"properties": {"override": {"$ref": "#/components/schemas/OverrideCustomCostIn"}, "custom_costs": {"items": {"$ref": "#/components/schemas/OverrideCustomCostIn"}, "title": "Custom Costs", "type": "array"}, "margins_override": {"$ref": "#/components/schemas/OverrideMarginsIn"}}, "required": ["override", "custom_costs", "margins_override"], "title": "CabinOverrideIn", "type": "object"}, "OverrideCustomCostIn": {"properties": {"custom_cost": {"format": "uuid", "title": "Custom Cost", "type": "string"}, "mode": {"$ref": "#/components/schemas/Mode"}, "applies_to": {"$ref": "#/components/schemas/AppliesTo"}, "value": {"anyOf": [{"type": "number"}, {"pattern": "^(?!^[-+.]*$)[+-]?0*(?:\\d{0,8}|(?=[\\d.]{1,13}0*$)\\d{0,8}\\.\\d{0,4}0*$)", "type": "string"}], "title": "Value"}, "percent": {"anyOf": [{"type": "number"}, {"pattern": "^(?!^[-+.]*$)[+-]?0*(?:\\d{0,2}|(?=[\\d.]{1,7}0*$)\\d{0,2}\\.\\d{0,4}0*$)", "type": "string"}, {"type": "null"}], "title": "Percent"}, "currency": {"enum": ["AED", "AFN", "ALL", "AMD", "ANG", "AOA", "ARS", "AUD", "AWG", "AZN", "BAM", "BBD", "BDT", "BGN", "BHD", "BIF", "BMD", "BND", "BOB", "BOV", "BRL", "BSD", "BTN", "BWP", "BYN", "BZD", "CAD", "CDF", "CHE", "CHF", "CHW", "CLF", "CLP", "CNY", "COP", "COU", "CRC", "CUC", "CUP", "CVE", "CZK", "DJF", "DKK", "DOP", "DZD", "EGP", "ERN", "ETB", "EUR", "FJD", "FKP", "GBP", "GEL", "GHS", "GIP", "GMD", "GNF", "GTQ", "GYD", "HKD", "HNL", "HRK", "HTG", "HUF", "IDR", "ILS", "INR", "IQD", "IRR", "ISK", "JMD", "JOD", "JPY", "KES", "KGS", "KHR", "KMF", "KPW", "KRW", "KWD", "KYD", "KZT", "LAK", "LBP", "LKR", "LRD", "LSL", "LYD", "MAD", "MDL", "MGA", "MKD", "MMK", "MNT", "MOP", "MRU", "MUR", "MVR", "MWK", "MXN", "MXV", "MYR", "MZN", "NAD", "NGN", "NIO", "NOK", "NPR", "NZD", "OMR", "PAB", "PEN", "PGK", "PHP", "PKR", "PLN", "PYG", "QAR", "RON", "RSD", "RUB", "RWF", "SAR", "SBD", "SCR", "SDG", "SEK", "SGD", "SHP", "SLE", "SLL", "SOS", "SRD", "SSP", "STN", "SVC", "SYP", "SZL", "THB", "TJS", "TMT", "TND", "TOP", "TRY", "TTD", "TWD", "TZS", "UAH", "UGX", "USD", "USN", "UYI", "UYU", "UYW", "UZS", "VED", "VES", "VND", "VUV", "WST", "XAF", "XCD", "XOF", "XPF", "XSU", "XUA", "YER", "ZAR", "ZMW", "ZWL"], "maxLength": 3, "minLength": 3, "title": "Currency", "type": "string"}}, "required": ["custom_cost", "mode", "applies_to", "value", "percent", "currency"], "title": "OverrideCustomCostIn", "type": "object"}, "OverrideMarginsIn": {"properties": {"b2b": {"anyOf": [{"type": "number"}, {"pattern": "^(?!^[-+.]*$)[+-]?0*(?:\\d{0,2}|(?=[\\d.]{1,7}0*$)\\d{0,2}\\.\\d{0,4}0*$)", "type": "string"}], "title": "B2B"}, "b2c": {"anyOf": [{"type": "number"}, {"pattern": "^(?!^[-+.]*$)[+-]?0*(?:\\d{0,2}|(?=[\\d.]{1,7}0*$)\\d{0,2}\\.\\d{0,4}0*$)", "type": "string"}], "title": "B2C"}}, "required": ["b2b", "b2c"], "title": "OverrideMarginsIn", "type": "object"}, "ZohoDetailsOut": {"properties": {"deal": {"title": "Deal"}, "channel": {"title": "Channel"}, "agency": {"title": "Agency"}, "agent": {"title": "Agent"}, "contact": {"title": "Contact"}}, "required": ["deal", "channel", "agency", "agent", "contact"], "title": "ZohoDetailsOut", "type": "object"}, "HoldOut": {"properties": {"status": {"$ref": "#/components/schemas/HoldStatus"}, "id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "uc_ref": {"title": "Uc Ref", "type": "string"}, "expires_at": {"format": "date-time", "title": "Expires At", "type": "string"}, "user": {"format": "uuid", "title": "User", "type": "string"}, "sailing": {"format": "uuid", "title": "Sailing", "type": "string"}, "cabin": {"format": "uuid", "title": "Cabin", "type": "string"}}, "required": ["status", "uc_ref", "expires_at", "user", "sailing", "cabin"], "title": "HoldOut", "type": "object"}, "HoldStatus": {"enum": ["active", "released", "expired", "converted"], "title": "HoldStatus", "type": "string"}, "NinjaPaginationResponseSchema_HoldOut_": {"properties": {"count": {"title": "Count", "type": "integer"}, "items": {"items": {"$ref": "#/components/schemas/HoldOut"}, "title": "Items", "type": "array"}}, "required": ["count", "items"], "title": "NinjaPaginationResponseSchema[HoldOut]", "type": "object"}, "HoldIn": {"properties": {"sailing": {"format": "uuid", "title": "Sailing", "type": "string"}, "cabin": {"format": "uuid", "title": "Cabin", "type": "string"}, "uc_ref": {"title": "Uc Ref", "type": "string"}, "notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Notes"}}, "required": ["sailing", "cabin", "uc_ref"], "title": "HoldIn", "type": "object"}, "HoldExtensionOut": {"properties": {"status": {"$ref": "#/components/schemas/HoldStatus"}, "id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "expires_at": {"format": "date-time", "title": "Expires At", "type": "string"}}, "required": ["status", "expires_at"], "title": "HoldExtensionOut", "type": "object"}, "HoldReleaseOut": {"properties": {"status": {"$ref": "#/components/schemas/HoldStatus"}}, "required": ["status"], "title": "HoldReleaseOut", "type": "object"}, "ReleaseRequestOut": {"properties": {"id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "reason": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Reason"}, "created_at": {"format": "date-time", "title": "Created At", "type": "string"}, "hold": {"format": "uuid", "title": "Hold", "type": "string"}, "requested_by": {"format": "uuid", "title": "Requested By", "type": "string"}}, "required": ["created_at", "hold", "requested_by"], "title": "ReleaseRequestOut", "type": "object"}, "ReasonIn": {"properties": {"reason": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Reason"}}, "title": "ReasonIn", "type": "object"}, "BookingOut": {"properties": {"status": {"$ref": "#/components/schemas/BookingStatus"}, "id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "uc_ref": {"title": "Uc Ref", "type": "string"}, "snapshot": {"title": "Snapshot", "type": "object"}, "sailing": {"format": "uuid", "title": "Sailing", "type": "string"}, "cabin": {"format": "uuid", "title": "Cabin", "type": "string"}, "user": {"format": "uuid", "title": "User", "type": "string"}}, "required": ["status", "uc_ref", "snapshot", "sailing", "cabin", "user"], "title": "BookingOut", "type": "object"}, "BookingStatus": {"enum": ["active", "cancelled"], "title": "BookingStatus", "type": "string"}, "BookingInDirect": {"properties": {"mode": {"const": "direct", "title": "Mode", "type": "string"}, "sailing": {"format": "uuid", "title": "Sailing", "type": "string"}, "cabin": {"format": "uuid", "title": "Cabin", "type": "string"}, "uc_ref": {"title": "Uc Ref", "type": "string"}, "occupancy_mode": {"$ref": "#/components/schemas/OccupancyMode"}, "acknowledge_policy": {"title": "Acknowledge Policy", "type": "boolean"}, "notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Notes"}}, "required": ["mode", "sailing", "cabin", "uc_ref", "occupancy_mode", "acknowledge_policy"], "title": "BookingInDirect", "type": "object"}, "BookingInFromHold": {"properties": {"mode": {"const": "from_hold", "title": "Mode", "type": "string"}, "hold": {"format": "uuid", "title": "Hold", "type": "string"}, "occupancy_mode": {"$ref": "#/components/schemas/OccupancyMode"}, "acknowledge_policy": {"title": "Acknowledge Policy", "type": "boolean"}, "notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Notes"}}, "required": ["mode", "hold", "occupancy_mode", "acknowledge_policy"], "title": "BookingInFromHold", "type": "object"}, "OccupancyMode": {"enum": ["2-pax", "single"], "title": "OccupancyMode", "type": "string"}, "NinjaPaginationResponseSchema_BookingOut_": {"properties": {"count": {"title": "Count", "type": "integer"}, "items": {"items": {"$ref": "#/components/schemas/BookingOut"}, "title": "Items", "type": "array"}}, "required": ["count", "items"], "title": "NinjaPaginationResponseSchema[BookingOut]", "type": "object"}, "CancellationQuoteOut": {"properties": {"booking": {"format": "uuid", "title": "Booking", "type": "string"}, "policy": {"format": "uuid", "title": "Policy", "type": "string"}, "tier": {"format": "uuid", "title": "Tier", "type": "string"}, "days_out": {"format": "uuid", "title": "Days Out", "type": "string"}, "charge": {"$ref": "#/components/schemas/MoneyOut"}, "calculation": {"additionalProperties": true, "title": "Calculation", "type": "object"}, "clamped": {"title": "Clamped", "type": "boolean"}}, "required": ["booking", "policy", "tier", "days_out", "charge", "calculation", "clamped"], "title": "CancellationQuoteOut", "type": "object"}, "CancellationQuoteIn": {"properties": {"policy": {"format": "uuid", "title": "Policy", "type": "string"}}, "required": ["policy"], "title": "CancellationQuoteIn", "type": "object"}, "CancellationOut": {"properties": {"status": {"$ref": "#/components/schemas/BookingStatus"}, "cancelled_at": {"format": "date-time", "title": "Cancelled At", "type": "string"}, "id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}}, "required": ["status", "cancelled_at"], "title": "CancellationOut", "type": "object"}, "CancellationIn": {"properties": {"policy": {"format": "uuid", "title": "Policy", "type": "string"}, "charge": {"$ref": "#/components/schemas/MoneyOut"}, "reason": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Reason"}}, "required": ["policy", "charge"], "title": "CancellationIn", "type": "object"}, "NinjaPaginationResponseSchema_ReleaseRequestOut_": {"properties": {"count": {"title": "Count", "type": "integer"}, "items": {"items": {"$ref": "#/components/schemas/ReleaseRequestOut"}, "title": "Items", "type": "array"}}, "required": ["count", "items"], "title": "NinjaPaginationResponseSchema[ReleaseRequestOut]", "type": "object"}, "ReleaseRequestResult": {"properties": {"result": {"$ref": "#/components/schemas/RequestStatus"}, "id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}}, "required": ["result"], "title": "ReleaseRequestResult", "type": "object"}, "RequestStatus": {"enum": ["approved", "denied"], "title": "RequestStatus", "type": "string"}, "DiscountChannel": {"enum": ["b2b", "b2c", "both"], "title": "DiscountChannel", "type": "string"}, "DiscountKind": {"enum": ["percent", "fixed"], "title": "DiscountKind", "type": "string"}, "DiscountOut": {"properties": {"targets": {"items": {"$ref": "#/components/schemas/DiscountTargetOut"}, "title": "Targets", "type": "array"}, "kind": {"$ref": "#/components/schemas/DiscountKind"}, "channel": {"$ref": "#/components/schemas/DiscountChannel"}, "status": {"$ref": "#/components/schemas/DiscountStatus"}, "id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}, "name": {"title": "Name", "type": "string"}, "value": {"pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Value", "type": "string"}, "starts_at": {"format": "date-time", "title": "Starts At", "type": "string"}, "ends_at": {"format": "date-time", "title": "Ends At", "type": "string"}, "min_margin_b2b": {"pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Min Margin B2B", "type": "string"}, "min_margin_b2c": {"pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Min Margin B2C", "type": "string"}, "created_by": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Created By"}}, "required": ["targets", "kind", "channel", "status", "name", "value", "starts_at", "ends_at", "min_margin_b2b", "min_margin_b2c"], "title": "DiscountOut", "type": "object"}, "DiscountStatus": {"enum": ["scheduled", "active", "ended", "cancelled"], "title": "DiscountStatus", "type": "string"}, "DiscountTargetKind": {"enum": ["sailing", "category", "cabin"], "title": "DiscountTargetKind", "type": "string"}, "DiscountTargetOut": {"properties": {"target_kind": {"$ref": "#/components/schemas/DiscountTargetKind"}, "sailing": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Sailing"}, "category": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Category"}, "cabin": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Cabin"}}, "required": ["target_kind"], "title": "DiscountTargetOut", "type": "object"}, "NinjaPaginationResponseSchema_DiscountOut_": {"properties": {"count": {"title": "Count", "type": "integer"}, "items": {"items": {"$ref": "#/components/schemas/DiscountOut"}, "title": "Items", "type": "array"}}, "required": ["count", "items"], "title": "NinjaPaginationResponseSchema[DiscountOut]", "type": "object"}, "DiscountIn": {"properties": {"name": {"title": "Name", "type": "string"}, "kind": {"$ref": "#/components/schemas/DiscountKind"}, "value": {"anyOf": [{"type": "number"}, {"pattern": "^(?!^[-+.]*$)[+-]?0*(?:\\d{0,6}|(?=[\\d.]{1,11}0*$)\\d{0,6}\\.\\d{0,4}0*$)", "type": "string"}], "title": "Value"}, "channel": {"$ref": "#/components/schemas/DiscountChannel"}, "starts_at": {"format": "date-time", "title": "Starts At", "type": "string"}, "ends_at": {"format": "date-time", "title": "Ends At", "type": "string"}, "min_margin_b2b": {"anyOf": [{"type": "number"}, {"pattern": "^(?!^[-+.]*$)[+-]?0*(?:\\d{0,2}|(?=[\\d.]{1,7}0*$)\\d{0,2}\\.\\d{0,4}0*$)", "type": "string"}, {"type": "null"}], "title": "Min Margin B2B"}, "max_margin_b2c": {"anyOf": [{"type": "number"}, {"pattern": "^(?!^[-+.]*$)[+-]?0*(?:\\d{0,2}|(?=[\\d.]{1,7}0*$)\\d{0,2}\\.\\d{0,4}0*$)", "type": "string"}, {"type": "null"}], "title": "Max Margin B2C"}, "targets": {"items": {"$ref": "#/components/schemas/DiscountTargetIn"}, "title": "Targets", "type": "array"}}, "required": ["name", "kind", "value", "channel", "starts_at", "ends_at", "min_margin_b2b", "max_margin_b2c", "targets"], "title": "DiscountIn", "type": "object"}, "DiscountTargetIn": {"properties": {"target_kind": {"$ref": "#/components/schemas/DiscountTargetKind"}, "id": {"format": "uuid", "title": "Id", "type": "string"}}, "required": ["target_kind", "id"], "title": "DiscountTargetIn", "type": "object"}, "DiscountActivateOut": {"properties": {"status": {"const": "active", "title": "Status", "type": "string"}, "id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}}, "required": ["status"], "title": "DiscountActivateOut", "type": "object"}, "DiscountDeactivateOut": {"properties": {"status": {"const": "cancelled", "title": "Status", "type": "string"}, "id": {"anyOf": [{"format": "uuid", "type": "string"}, {"type": "null"}], "title": "Id"}}, "required": ["status"], "title": "DiscountDeactivateOut", "type": "object"}}, "securitySchemes": {"JWTAuth": {"type": "http", "scheme": "bearer"}}}, "servers": [], "tags": [{"name": "A1. Login / 2FA / Forgotten Password", "description": "\nRelates all endpoints pertaining to sign-in and logged-in user sessions. This includes login flow,\nreset password flow, and session authentication.\n\nNote that a verification context is a cached record of relevant user information that is used to establish their\nsession once verification is complete.\n\nThe entire login flow is as follows:\n\n1. email+password+optional remember_me \u2192 `/api/auth/login`: returns verification context id + default 2FA method/device.\n    If the method is None, the user has not setup a 2FA device yet.\n    - A user may setup a TOTP device or SMS device (the device must match their `twofa_method`, i.e a user with\n          `twofa_method='sms'` cannot setup a TOTP device)\n        - SMS setup through `/api/auth/2fa/sms/send`\n2. context id+purpose (login/reset) \u2192 /api/auth/2fa/sms/send: sends OTP\n3. passcode+purpose (login/reset) \u2192 /api/auth/2fa/verify: establishes login session\n"}], "x-tagGroups": [{"name": "A. Authentication & Profile", "tags": ["A1. Login / 2FA / Forgotten Password", "A2. My Profile"]}, {"name": "B. Admin: Users & Roles", "tags": ["B1. Users", "B2. Roles", "B3. Permissions"]}, {"name": "C. Catalogues: Amenities, Categories, Custom Costs, FX, Reserve & Cancellation", "tags": ["C1. Amenities", "C2. Cabin Categories", "C3. Custom Costs", "C4. FX", "C5. Reserve Settings", "C6. Cancellation Policies"]}, {"name": "D. Ships, Cabins & Interactive Cabin Maps", "tags": ["D1. Ships", "D2. Cabin Maps", "D3. Cabins"]}, {"name": "E. Routes (Google Places)", "tags": ["E1. Routes + Legs", "E2. Places"]}, {"name": "F. Seasons & Sailings", "tags": ["F1. Season", "F2. Sailing"]}, {"name": "G. Pricing (Cost of Ship by Season/Sailing)", "tags": ["G1. Scope, View, Bulk, Margins & FX", "G2. Sailing-scoped Cabin Pricing"]}, {"name": "H) List Pricing (Totals & Drill-down)", "tags": ["H1. List Pricing"]}, {"name": "I. Sell / Reserve / Book", "tags": ["I1. UC Ref Lookup", "I2. Reserve", "I3 + I4. Booking", "I5. Release Request (against a Hold)"]}, {"name": "J. Discounts & Flash Sales", "tags": ["J1. Discounts"]}, {"name": "K. Import / Export", "tags": ["K1. Templates", "K2. Import", "K3. Export"]}, {"name": "L. Reports & Analytics", "tags": ["L. Reports & Analytics"]}]}